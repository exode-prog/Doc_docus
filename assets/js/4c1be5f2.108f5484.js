"use strict";(self.webpackChunkexode_docus_1=self.webpackChunkexode_docus_1||[]).push([[5267],{2372:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>O,contentTitle:()=>E,default:()=>D,frontMatter:()=>N,metadata:()=>C,toc:()=>w});var s=t(4848),r=t(8453);const i=t.p+"assets/images/template-475ba77a412e61a8a0e1f43111e3ab92.png",a=t.p+"assets/images/listed-fd85b1bb6b0ab33bdc986ce057141f00.png",l=t.p+"assets/images/buf1-dd1d94d2377f1e447aaa589d1602d91b.png",o=t.p+"assets/images/buf2-0b97c7317ef915e54918cfa76907607e.png",d=t.p+"assets/images/aff-28e161d1066c41de497e14da24772b68.png",c=t.p+"assets/images/awa-2078ac6a42e2bf2cee67b2f571867f2e.png",p=t.p+"assets/images/ctt-11e6f75c4d7490d98cb4ef39d63977ea.png",u=t.p+"assets/images/lt-f2c47805e475b12778d77ea447bd4a72.png",m=t.p+"assets/images/ex-426e6cc9b6aa91f0d3225f4a4bad4cc0.png",h=t.p+"assets/images/no-adc982aa3f570a7c90fbbb60e75ad14a.png",x="data:image/png;base64,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",j=t.p+"assets/images/ht-5fc9ae416513bb1741f6e7101c6996d2.png",g=t.p+"assets/images/ha-b9406dd971b5b70c0729dce212e5c9e0.png",f=t.p+"assets/images/para1-8f259edd7ae26df5491082b4824a1970.png",b=t.p+"assets/images/mes-af4d8ce6a0318438b057935f23e90abe.png",v=t.p+"assets/images/ja-56969fdd24b5830ac778ff7673d1b481.png",$=t.p+"assets/images/jaaa-befa7ed18f43ec59a3a07683f0fc8ccf.png",_=t.p+"assets/images/jaaaa-35556436cc15e0d40e33f5f3ad59bc9e.png",P=t.p+"assets/images/jj-5a7a8649dbc4aad8944c8c0f81d4bade.png",q=t.p+"assets/images/sup-7d63582b5d6d801722f515ab1ee176b4.png",T=t.p+"assets/images/la-4b39183a5c43c975a781626f0e5ca80e.png",y=t.p+"assets/images/er-124a84000b733ae8e6f243372f3e7c37.png",N={sidebar_position:4},E="C. TEMPLATE, BUFFERISATION, LAYOUT EN PHP",C={id:"Tutoriel-Notions-en-PHP/template_buff_layout",title:"C. TEMPLATE, BUFFERISATION, LAYOUT EN PHP",description:"a. Presentation des  templates",source:"@site/docs/Tutoriel-Notions-en-PHP/template_buff_layout.md",sourceDirName:"Tutoriel-Notions-en-PHP",slug:"/Tutoriel-Notions-en-PHP/template_buff_layout",permalink:"/Doc_docus/docs/Tutoriel-Notions-en-PHP/template_buff_layout",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Tutoriel-Notions-en-PHP/template_buff_layout.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"B. LA REECRITURE D\u2019URL DANS UN PROGRAMME EN PHP",permalink:"/Doc_docus/docs/Tutoriel-Notions-en-PHP/reecriture_url_php"},next:{title:"D. LE ROUTING SUR LE MODELE EN MVC",permalink:"/Doc_docus/docs/Tutoriel-Notions-en-PHP/routing_mvc_php"}},O={},w=[{value:"a. Presentation des  templates",id:"a-presentation-des--templates",level:2},{value:"b. La bufferisation avec ob_start",id:"b-la-bufferisation-avec-ob_start",level:2},{value:"i. Pr\xe9sentation",id:"i-pr\xe9sentation",level:3},{value:"ii. Fonctionnement de Ob_start ()",id:"ii-fonctionnement-de-ob_start-",level:3},{value:"iii.  Avantages de la Bufferisation",id:"iii--avantages-de-la-bufferisation",level:3},{value:"iv.  Exemple typique d\u2019une buff\xe9risassion",id:"iv--exemple-typique-dune-buff\xe9risassion",level:3},{value:"Les etapes a suivre",id:"les-etapes-a-suivre",level:4},{value:"a. Creer un repertoire de travail",id:"a-creer-un-repertoire-de-travail",level:5},{value:"b. Creer trois fichiers",id:"b-creer-trois-fichiers",level:5},{value:"a. Creer un repertoire de travail",id:"a-creer-un-repertoire-de-travail-1",level:5},{value:"b. Creer trois fichiers",id:"b-creer-trois-fichiers-1",level:5},{value:"c. Template et layout",id:"c-template-et-layout",level:2},{value:"Objectif",id:"objectif",level:3},{value:"1.  Cr\xe9ation du r\xe9pertoire de travail php_mvc_pro_template",id:"1--cr\xe9ation-du-r\xe9pertoire-de-travail-php_mvc_pro_template",level:3},{value:"2.  Programme en un seul code des \xe9tudiants",id:"2--programme-en-un-seul-code-des-\xe9tudiants",level:3},{value:"3.  Programme CRUD avec prise en compte de Template et de layout",id:"3--programme-crud-avec-prise-en-compte-de-template-et-de-layout",level:3},{value:"Qu\u2019est-ce qu\u2019un layout ?",id:"quest-ce-quun-layout-",level:3},{value:"Diff\xe9rence entre Template et layout en PHP",id:"diff\xe9rence-entre-template-et-layout-en-php",level:4},{value:"Template",id:"template",level:4},{value:"Layout",id:"layout",level:4},{value:"a. Programme simple r\xe9duction de code avec Template",id:"a-programme-simple-r\xe9duction-de-code-avec-template",level:4},{value:"b. Programme en MVC avec prise en compte de Template de layout avec une action de lister les \xe9tudiants (READ)",id:"b-programme-en-mvc-avec-prise-en-compte-de-template-de-layout-avec-une-action-de-lister-les-\xe9tudiants-read",level:4},{value:"c. Programme en MVC avec prise en compte de Template avec l\u2019action de voir les d\xe9tails d\u2019un \xe9tudiant",id:"c-programme-en-mvc-avec-prise-en-compte-de-template-avec-laction-de-voir-les-d\xe9tails-dun-\xe9tudiant",level:4},{value:"d. Programme en MVC avec prise en compte de Template avec l\u2019action d\u2019ins\xe9rer les \xe9tudiants (CREATE)",id:"d-programme-en-mvc-avec-prise-en-compte-de-template-avec-laction-dins\xe9rer-les-\xe9tudiants-create",level:4},{value:"e. Programme en MVC avec prise en compte de Template avec l\u2019action de modifier les informations d\u2019un \xe9tudiant (UPDATE)",id:"e-programme-en-mvc-avec-prise-en-compte-de-template-avec-laction-de-modifier-les-informations-dun-\xe9tudiant-update",level:4},{value:"f. Programme en MVC avec prise en compte de Template avec l\u2019action de supprimer un \xe9tudiant (DELETE)",id:"f-programme-en-mvc-avec-prise-en-compte-de-template-avec-laction-de-supprimer-un-\xe9tudiant-delete",level:4},{value:"g.  Probl\xe9matique dans l\u2019utilisations de plusieurs fonctions",id:"g--probl\xe9matique-dans-lutilisations-de-plusieurs-fonctions",level:4}];function A(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"c-template-bufferisation-layout-en-php",children:"C. TEMPLATE, BUFFERISATION, LAYOUT EN PHP"})}),"\n",(0,s.jsx)(n.h2,{id:"a-presentation-des--templates",children:"a. Presentation des  templates"}),"\n",(0,s.jsx)(n.p,{children:"Template terme anglais et que veut dire gabarit est une notion tr\xe8s importante utilis\xe9e en programmation. Son principe est de s\xe9parer le code PHP de la mise en page HTML ; Le code PHP dans un fichier, la mise en page contenant les balises HTML dans un autre fichier. On se retrouve alors avec, d\u2019un c\xf4t\xe9, le script qui fait tout ce qu\u2019il a \xe0 faire (ex: r\xe9cup\xe9ration de donn\xe9es dans une base de donn\xe9es, traitement\u2026), et d\u2019un autre c\xf4t\xe9, la mise en page avec des zones pr\xe9d\xe9finies o\xf9 seront plac\xe9es les donn\xe9es g\xe9n\xe9r\xe9es par le script. Cette pratique est beaucoup utilis\xe9e dans une architecture MVC (model view controller) et le Template est orient\xe9 \xe0 la partie de la pr\xe9sentation la partie vue qui est le view.\nL\u2019avantage \xe9vident est de pouvoir travailler uniquement sur la mise en page, sans modifier quoi que ce soit dans le code PHP et inversement, ou de diviser efficacement le travail \xe0 faire, le programmeur s\u2019occupant uniquement de la partie Scripting, et le designeur, de la mise en page."}),"\n","\n",(0,s.jsx)("img",{src:i,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: Architecture d'un template"})})}),"\n",(0,s.jsx)(n.h2,{id:"b-la-bufferisation-avec-ob_start",children:"b. La bufferisation avec ob_start"}),"\n",(0,s.jsx)(n.h3,{id:"i-pr\xe9sentation",children:"i. Pr\xe9sentation"}),"\n",(0,s.jsx)(n.p,{children:"Cette fonction ob_start () active la mise en m\xe9moire tampon de la sortie. Lorsque la mise en m\xe9moire tampon est active, aucune sortie n'est envoy\xe9e depuis le script ; au lieu de cela, la sortie est stock\xe9e dans une m\xe9moire tampon interne. Elle joue un r\xf4le de conteneur qu\u2019on peut stocker des donn\xe9es \xe0 l\u2019int\xe9rieur et l\u2019utiliser et le d\xe9truire. Cette notion est importante en programmation et s\u2019impl\xe9mente dans la partie vue du mod\xe8le MVC."}),"\n",(0,s.jsx)(n.h3,{id:"ii-fonctionnement-de-ob_start-",children:"ii. Fonctionnement de Ob_start ()"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ob_start() : Cette fonction d\xe9marre la bufferisation. \xc0 partir de ce moment, toute sortie g\xe9n\xe9r\xe9e par le script est stock\xe9e dans le tampon."}),"\n",(0,s.jsx)(n.li,{children:"On peut \xe9galement   ensuite utiliser d'autres fonctions pour g\xe9rer le contenu du tampon :"}),"\n",(0,s.jsx)(n.li,{children:"ob_get_contents() : R\xe9cup\xe8re le contenu actuel du tampon sans l'effacer."}),"\n",(0,s.jsx)(n.li,{children:"ob_end_flush() : Envoie le contenu du tampon au navigateur et d\xe9sactive la bufferisation."}),"\n",(0,s.jsx)(n.li,{children:"ob_clean() : Efface le contenu du tampon sans l'envoyer."}),"\n",(0,s.jsx)(n.li,{children:"Ob_get_clean() : Obtiens le contenu du tampon de sortie actif et d\xe9sactive-le"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Pour connaitre d\u2019autres fonctions de la buff\xe9risation on peut consulter le lien suivant :  ",(0,s.jsx)(n.a,{href:"https://www.php.net/manual/fr/function.ob-get-clean.php",children:"https://www.php.net/manual/fr/function.ob-get-clean.php"})]}),"\n",(0,s.jsx)(n.h3,{id:"iii--avantages-de-la-bufferisation",children:"iii.  Avantages de la Bufferisation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Contr\xf4le sur la Sortie"}),"\nPermet de modifier ou d'inspecter la sortie avant qu'elle ne soit envoy\xe9e. Cela peut \xeatre utile pour ajouter des \xe9l\xe9ments \xe0 la fin ou pour effectuer des remplacements.\n\u2022 \xc9viter les Erreurs \"Headers Already Sent\"\n\xc9viter les erreurs li\xe9es \xe0 l'envoi pr\xe9matur\xe9 des en-t\xeates HTTP, car rien n'est envoy\xe9 tant que vous n'appelez pas ob_end_flush()."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u2022 ",(0,s.jsx)(n.strong,{children:"Optimisation des Performances"})," :\nLa bufferisation peut am\xe9liorer les performances en permettant d'envoyer des donn\xe9es en une seule fois plut\xf4t qu'en plusieurs petits morceaux, r\xe9duisant ainsi le nombre de requ\xeates HTTP."]}),"\n",(0,s.jsxs)(n.p,{children:["\u2022 ",(0,s.jsx)(n.strong,{children:"Chargement Asynchrone"})," :\nEn utilisant des techniques comme l'envoi d'en-t\xeates ou de scripts avant que le corps principal ne soit envoy\xe9, vous pouvez permettre aux navigateurs de commencer \xe0 charger des ressources externes pendant que le script s'ex\xe9cute."]}),"\n",(0,s.jsxs)(n.p,{children:["\u2022 ",(0,s.jsx)(n.strong,{children:"Facilit\xe9 d'Impl\xe9mentation"})," :\nLa mise en \u0153uvre est simple gr\xe2ce aux fonctions int\xe9gr\xe9es comme ob_start(), ce qui permet une int\xe9gration facile dans des projets existants."]}),"\n",(0,s.jsx)(n.h3,{id:"iv--exemple-typique-dune-buff\xe9risassion",children:"iv.  Exemple typique d\u2019une buff\xe9risassion"}),"\n",(0,s.jsx)(n.p,{children:"Nous allons mettre en place un programme un programme qui nus permet de voir le contenu des pages avec l\u2019utilisation des contenus des variables diff\xe9rentes sur les diff\xe9rentes pages."}),"\n",(0,s.jsx)(n.h4,{id:"les-etapes-a-suivre",children:"Les etapes a suivre"}),"\n",(0,s.jsx)(n.h5,{id:"a-creer-un-repertoire-de-travail",children:"a. Creer un repertoire de travail"}),"\n",(0,s.jsx)(n.h5,{id:"b-creer-trois-fichiers",children:"b. Creer trois fichiers"}),"\n",(0,s.jsx)(n.p,{children:"Mise en oeuvre"}),"\n",(0,s.jsx)(n.h5,{id:"a-creer-un-repertoire-de-travail-1",children:"a. Creer un repertoire de travail"}),"\n",(0,s.jsx)(n.p,{children:"On doit creer notre repertoire a la racine principale du projet dans le repertoire projet."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"mkdir tp_bufferisation\n"})}),"\n","\n",(0,s.jsx)("img",{src:a,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"figure: liste des repertoires"})})}),"\n",(0,s.jsx)(n.p,{children:"Se placer dans le repertoire"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd tp_bufferisation\n\n"})}),"\n",(0,s.jsx)(n.h5,{id:"b-creer-trois-fichiers-1",children:"b. Creer trois fichiers"}),"\n",(0,s.jsx)(n.p,{children:"Le fichier BaseLayout.php es le fichier central ou on d\xe9clare nos diff\xe9rentes variables et qui apres vont prendre les valeurs suivant les informations du chaque site."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"1. Creation du 1er fichier base.php"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"nano base.php\n"})}),"\n",(0,s.jsx)(n.p,{children:"Et on met le contenu suivant:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"<!DOCTYPE html>\n<html>\n<head>\n    <title><?php echo $title ?></title>\n</head>\n<body>\n    <?php echo $content ?>\n</body>\n</html>\n\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Explication du code"}),"\nDans ce code nous avons fait appel \xe0 nos deux variables $title et $content qui seront utilis\xe9es dans les pages des sites en s\u2019adaptant \xe0 leurs contenus quand on va inclure le fichier de base qui est base.php."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"2. Creation des deux autres fichiers"}),"\nOn cr\xe9e maintenant les deux sites avec deux variables cr\xe9\xe9es   title et content, inclure base.php et utilisation des deux fonctions suivantes:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Ob_star () : d\xe9marrer   la bufferisation"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Ob_get_clean : R\xe9cup\xe9rer le contenu et le d\xe9sactive"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Creation du 2eme fichier site1.php"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\nnano  site1.php\n"})}),"\n",(0,s.jsx)(n.p,{children:"avec du contenu suivant:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"<?php\n  $title = 'Je suis le site 1';\n  ob_start();\n?>\n  <h1>Apprentissage de la bufferisation</h1>\n<h2>Les avantages de la bufferisation</h2>\n  <ul>\n  <li>Contr\xf4le sur la Sortie </li>\n  <li>\xc9viter les Erreurs \"Headers Already Sent\"</li>\n  <li> Optimisation des Performances </li>\n  <li> Chargement Asynchrone </li>\n  <li>Facilit\xe9 d'Impl\xe9mentation </li>\n\n  </ul>\n<?php\n  $content = ob_get_clean();\n  include 'base.php'\n?>\n\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Creation du 3eme fichier site2.php"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\nnano site2\n"})}),"\n",(0,s.jsx)(n.p,{children:"et on met le contenu suivant:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\n<?php\n  $title = 'Je suis le site 2';\n  ob_start();\n?>\n  <h1>Apprentissage de la bufferisation</h1>\n<h2>Les fonctions  de la bufferisation</h2>\n  <ul>\n\n<li>ob_start() : Cette fonction d\xe9marre la bufferisation..</li>\n<li>On peut \xe9galement   ensuite utiliser d'autres fonctions pour g\xe9rer le contenu du tampon :<li>\n<li>ob_get_contents() : R\xe9cup\xe8re le contenu actuel du tampon sans l'effacer.</li>\n<li>ob_end_flush() : Envoie le contenu du tampon au navigateur et d\xe9sactive la bufferisation.</li>\n<li>ob_clean() : Efface le contenu du tampon sans l'envoyer.</li>\n<li>Ob_get_clean() : Obtiens le contenu du tampon de sortie actif et d\xe9sactive-le</li>\n\n  </ul>\n<?php\n  $content = ob_get_clean();\n  include 'base.php'\n?>\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Test sur le navigateur"})}),"\n",(0,s.jsx)(n.p,{children:"Apres la mise en place on peut test les deux pages."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"La page site1 avec"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"http://localhost/projets/tp_bufferisation/site1.php\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"La page site2 avec :"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-nash",children:"http://localhost/projets/tp_bufferisation/site2.php\n"})}),"\n","\n",(0,s.jsx)("img",{src:l,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: Test reussi avec le site1"})})}),"\n","\n",(0,s.jsx)("img",{src:o,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: Test reussi avec le site2"})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Nous avons remarque que la notion de bufferisation est importante dans le cadre de dynamisme d\u2019un site."})}),"\n",(0,s.jsx)(n.h2,{id:"c-template-et-layout",children:"c. Template et layout"}),"\n",(0,s.jsx)(n.h3,{id:"objectif",children:"Objectif"}),"\n",(0,s.jsx)(n.p,{children:"Mettre en place un syst\xe8me avec Mod\xe8le MVC et avec Template dans le but de s\xe9parer les donn\xe9es et donner une bonne structure au programme."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Les \xe9tapes \xe0 suivre :"})}),"\n",(0,s.jsx)(n.h3,{id:"1--cr\xe9ation-du-r\xe9pertoire-de-travail-php_mvc_pro_template",children:"1.  Cr\xe9ation du r\xe9pertoire de travail php_mvc_pro_template"}),"\n",(0,s.jsx)(n.p,{children:"On doit creer notre repertoire de travail a la racine de des projets avec la commande:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-md",metastring:'title="root@Chirst-Ma:/var/www/html/projets#"',children:"mkdir  php_mvc_pro_template\n"})}),"\n",(0,s.jsx)(n.p,{children:"Se deplacer dans le repertoire"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd  php_mvc_pro_template\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2--programme-en-un-seul-code-des-\xe9tudiants",children:"2.  Programme en un seul code des \xe9tudiants"}),"\n",(0,s.jsx)(n.p,{children:"Dans ce programme nous continuons toujours \xe0 utiliser la logique de la base de donn\xe9es \xab \xe9cole \xbb et la table \xab \xe9tudiants \xbb trait\xe9e pr\xe9c\xe9demment et l\u2019objectif est de pouvoir mettre l\u2019ensemble de tout notre programme dans un seul code et l\u2019ex\xe9cuter. Les \xe9tapes \xe0 suivre sont :"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"a.  Cr\xe9er un fichier \xab fichier_complet.php"})}),"\n",(0,s.jsx)(n.p,{children:"Ainsi on cr\xe9e et \xe9dite notre fichier \xab fichier_complet.php \xbb avec la commande \xab nano fichier_complet.php et on met son contenu de la connexion a la base de donn\xe9es jusqu\u2019\xe0 l\u2019affichage."}),"\n",(0,s.jsx)(n.p,{children:"On cree notre fichier avec :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"nano fichier_complet.php\n"})}),"\n",(0,s.jsx)(n.p,{children:"et on met le contenu suivant:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'\n<?php\n  define(\'dsn\', \'mysql:host=localhost;dbname=ecole\');\n  define(\'user\', \'mamadou\');\n  define(\'password\', \'passer\');\n  try{\n  $connexion=new PDO(dsn,user,password);\n  }\n  catch(PDOException $e){\n  printf("Echec connexion : %s\\n", $e->getMessage());\n  exit();\n  }\n  $sql="select * from etudiants";\n  if(!$connexion->query($sql))\n  echo "Probleme de connexion a la table etudiants";\n  else\n    {    \n\n        echo $titre="<h2>La liste des noms et prenoms des etudiants</h2>";\n        echo "<strong> NOM "."  "."PRENOM </strong>"."<br>";\n        foreach ($connexion->query($sql) as $row){\n        echo $row[\'nom\']."  ".$row[\'prenom\']."<br>";\n        }\n  }\n\n?>\n\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"b.  Tester le programme"})}),"\n",(0,s.jsx)(n.p,{children:"On va sur le navigateur et on met l\u2019adresse"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"http://localhost/projets/php_mvc_pro_template/fichier_complet.php\n"})}),"\n","\n",(0,s.jsx)("img",{src:d,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: Test reussi"})})}),"\n",(0,s.jsx)(n.p,{children:"Nous venons de tester notre page avec un code tout m\xe9lang\xe9 m\xeame si cela fonctionne trop bien il existe quelques d\xe9fauts dans cette pratique comme :"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"R\xe9utilisabilit\xe9 du code tr\xe8s r\xe9duite"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Avec ce code ce n\u2019est pas \xe9vident de le r\xe9utiliser du fait de son caract\xe8re a tout m\xe9langer ensemble les diff\xe9rentes parties du code car cela engendra des confits"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Complexe \xe0 comprendre pour un d\xe9butant"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Pour un programmeur d\xe9butant le code lui sera complexe car il voit du SQL PHP html tous m\xe9lang\xe9s ainsi il ne pourra pas mieux g\xe9rer le code.\nAinsi pour rem\xe9dier \xe0 tous ces petits soucis que la notion d\u2019impl\xe9mentation de Template est importante car elle nous permettra de s\xe9parer le code en petites parties dans le but de s\xe9parer du code html par rapport au reste du code et le mettre dans un fichier a part."}),"\n",(0,s.jsx)(n.h3,{id:"3--programme-crud-avec-prise-en-compte-de-template-et-de-layout",children:"3.  Programme CRUD avec prise en compte de Template et de layout"}),"\n",(0,s.jsx)(n.p,{children:"D\u2019apres ce qui pr\xe9c\xe8de nous allons appliquer les notions de Template et de layout dans nos programmes suivants."}),"\n",(0,s.jsx)(n.h3,{id:"quest-ce-quun-layout-",children:"Qu\u2019est-ce qu\u2019un layout ?"}),"\n",(0,s.jsxs)(n.p,{children:["Un ",(0,s.jsx)(n.strong,{children:"layout"})," est essentiellement une structure de base pour les pages web, qui permet de maintenir une coh\xe9rence et une uniformit\xe9 dans la pr\xe9sentation des diff\xe9rentes pages d\u2019un site. Voici un guide d\xe9taill\xe9 avec des exemples concrets pour cr\xe9er un layout en PHP. Layout d\u2019une mani\xe8re g\xe9n\xe9rale signifie mise en page. Elle fait r\xe9f\xe9rence \xe0 la disposition et \xe0 l\u2019organisation des \xe9l\xe9ments sur une page web ou un document."]}),"\n",(0,s.jsx)(n.h4,{id:"diff\xe9rence-entre-template-et-layout-en-php",children:"Diff\xe9rence entre Template et layout en PHP"}),"\n",(0,s.jsx)(n.h4,{id:"template",children:"Template"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"D\xe9finition :"})," Un Template est un fichier qui contient le code HTML et peut inclure des balises PHP pour afficher dynamiquement des donn\xe9es. Il est g\xe9n\xe9ralement utilis\xe9 pour d\xe9finir la structure d'une page ou d'une section de page."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Fonctionnalit\xe9 :"}),"  Les templates sont souvent r\xe9utilisables et permettent d'afficher du contenu variable tout en maintenant une apparence coh\xe9rente. Par exemple, un Template peut contenir l'en-t\xeate, le pied de page et des sections pour le contenu principal"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Exemple :"})," Un fichier liste_etudiants.php qui d\xe9finit comment afficher une liste d\u2019\xe9tudiants avec son titre, son contenu \u2026"]}),"\n",(0,s.jsx)(n.h4,{id:"layout",children:"Layout"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"D\xe9finition :"})," Un layout est une configuration qui d\xe9termine la disposition des \xe9l\xe9ments sur une page. Il d\xe9finit les r\xe9gions o\xf9 les templates peuvent \xeatre ins\xe9r\xe9s, comme les barres lat\xe9rales, les en-t\xeates, et les pieds de page."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Fonctionnalit\xe9 :"})," Les layouts sont utilis\xe9s pour organiser la structure globale d'une page ou d'un site. Par exemple, un layout peut sp\xe9cifier que la barre de navigation doit \xeatre en haut de la page et que le contenu principal doit \xeatre \xe0 gauche."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Exemple :"}),"  Un fichier layout.php qui d\xe9finit la structure g\xe9n\xe9rale de toutes les pages d'un site, incluant les zones pour diff\xe9rents templates."]}),"\n",(0,s.jsx)(n.h4,{id:"a-programme-simple-r\xe9duction-de-code-avec-template",children:"a. Programme simple r\xe9duction de code avec Template"}),"\n",(0,s.jsx)(n.p,{children:"Notre programme pr\xe9c\xe8de dans lequel on a tout mis sera diviser en deux parties la premi\xe8re concerne la connexion \xe0 la base de donn\xe9es et r\xe9cup\xe9rations des donn\xe9es et la derni\xe8re partie consiste \xe0 mettre un code html dans un Template que nous allons cr\xe9er."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Les \xe9tapes \xe0 suivre"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"1.  Cr\xe9er un fichier \xab reduction_code.php \xbb"}),"\n",(0,s.jsx)(n.strong,{children:"2.  Cr\xe9er un r\xe9pertoire Template"}),"\n",(0,s.jsx)(n.strong,{children:"3.  Cr\xe9er le fichier liste_etudiants dans le r\xe9pertoire Template"}),"\n",(0,s.jsx)(n.strong,{children:"4.  Tester le programme"})]}),"\n",(0,s.jsx)(n.p,{children:"Ainsi on passe \xe0 la r\xe9alisation du programme"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"1.  Cr\xe9er un fichier \xab reduction_code.php \xbb"}),"\nOn execute la commande suivante:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:" nano reduction_code.php \n"})}),"\n",(0,s.jsx)(n.p,{children:"et on met le code suivant comme il se doit"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"<?php\n  define('dsn', 'mysql:host=localhost;dbname=ecole');\n  define('user', 'mamadou');\n  define('password', 'passer');\n  try{\n  $connexion=new PDO(dsn,user,password);\n  }\n  catch(PDOException $e){\n  printf(\"Echec connexion : %s\\n\", $e->getMessage());\n  exit();\n  }\n  $sql=\"select * from etudiants\";\n  $stmt=$connexion->prepare($sql);\n  $stmt->execute();\n  $result=$stmt->fetchALL(PDO::FETCH_OBJ);\n  if(!$connexion->prepare($sql))\n       echo \"Erreur de connexion a la table etudiants\";\n   else\n   {\n       foreach ($result as $row){\n           $etudiants[]=$row;\n       }\n       require_once \"templates/liste_etudiants.php\";\n   }\n\n?>\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Explication du code :"})}),"\n",(0,s.jsx)(n.p,{children:"D\u2019abord on a d\xe9fini des constantes avec d\xe9finie pour la connexion avec la base de donn\xe9es avec un syst\xe8me de retour d\u2019erreur au cas d\u2019\xe9chec (try et catch). Ensuite on a r\xe9cup\xe9r\xe9 les \xe9l\xe9ments de notre tableau avec la requ\xeate SQL pr\xe9par\xe9e pour question de s\xe9curit\xe9 des donn\xe9es. Enfin apr\xe8s une condition de bonne connexion on a r\xe9cup\xe9r\xe9 les \xe9l\xe9ments de notre table \xe9tudiants sous forme de tableau et on l\u2019a mis dans une variable \xe9tudiants. C\u2019est apr\xe8s tout ce processus que nous faisons appel a notre Template qu\u2019on va cr\xe9er tout de suite pour qu\u2019il affiche les donn\xe9es de notre tableau dans un fichier html qu\u2019on va cr\xe9er."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"2.  Cr\xe9er un r\xe9pertoire Template"})}),"\n",(0,s.jsx)(n.p,{children:"On va maintenant  notre Template :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"mkdir templates\n"})}),"\n",(0,s.jsx)(n.p,{children:"Se deplacer dans le Template"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd templates\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"3.  Cr\xe9er le fichier liste_etudiants dans le r\xe9pertoire Template"})}),"\n",(0,s.jsx)(n.p,{children:"On peut maintenant creer le fichier"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:" nano liste_etudiants.php\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Explication du code :"})}),"\n",(0,s.jsx)(n.p,{children:"Ce code constitue notre Template car il n\u2019y a que la partie de la pr\xe9sentation ici, il sera impl\xe9ment\xe9 \xe0 la fin du fichier reduction_code.php gr\xe2ce au require_once pour pouvoir afficher les donn\xe9es de notre table \xe9tudiants."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"4.  Tester le programme"})}),"\n",(0,s.jsx)(n.p,{children:"Maintenant on peut tester notre programme en appelant le fichier reduction_code.php"}),"\n","\n",(0,s.jsx)("img",{src:c,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: Test reussi"})})}),"\n",(0,s.jsx)(n.h4,{id:"b-programme-en-mvc-avec-prise-en-compte-de-template-de-layout-avec-une-action-de-lister-les-\xe9tudiants-read",children:"b. Programme en MVC avec prise en compte de Template de layout avec une action de lister les \xe9tudiants (READ)"}),"\n",(0,s.jsx)(n.p,{children:"Dans ce programme l\u2019objectif est de mettre en place le mod\xe8le MVC avec un Template pour une bonne visibilit\xe9 sachant que le Template e trouve \xe0 la partie vue donc est la partie vue du programme. Nous devons comprendre que pour chaque fonction dans un programme on a :"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"1e fonction = un mod\xe8le = un contr\xf4leur=un template"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Les \xe9tapes \xe0 suivre :"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Cr\xe9ation du mod\xe8le"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Mise en place du Template"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Mise en place d\u2019un contr\xf4leur"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Test"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Cr\xe9er un layout et l\u2019appliquer sur le programme"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Cr\xe9er un fichier base_layout.php"}),"\n",(0,s.jsx)(n.li,{children:"Cr\xe9ation d\u2019un fichierTemplate pour appliquer le layout"}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"6",children:["\n",(0,s.jsx)(n.li,{children:"Test"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Ainsi nous passons \xe0 la pratique"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"1.  Cr\xe9ation du mod\xe8le"})}),"\n",(0,s.jsx)(n.p,{children:"Pour creer le modele on execute la commande suivante:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"nano modele.php\n"})}),"\n",(0,s.jsx)(n.p,{children:"et on met le contenu suivant:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\n<?php\n\n  function connect_db()\n  {\n      define('dsn', 'mysql:host=localhost;dbname=ecole');\n      define('user', 'mamadou');\n      define('password', 'passer');\n  try\n  {\n      $connexion=new PDO(dsn,user,password);\n  }\n  catch(PDOException $e)\n  {\n  printf(\"Echec connexion : %s\\n\",\n  $e->getMessage());\n  exit();\n  }\n  return $connexion;\n  }\n\n  function lister_les_etudiants()\n  {\n      $connexion=connect_db();\n      $amis=Array();\n      $sql=\"select * from etudiants\";\n      $stmt=$connexion->prepare($sql);\n      $stmt->execute();\n      $result=$stmt->fetchALL(PDO::FETCH_OBJ);\n      foreach ($result  as $row)\n      {\n          $etudiants[]=$row;\n      }\n\n      return $etudiants;\n  }\n\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Explication du code:"})}),"\n",(0,s.jsx)(n.p,{children:"Dans ce code nous avons d\xe9clar\xe9 deux fonctions la premi\xe8re pour se connecter a base de donn\xe9es et la derni\xe8re pour r\xe9cup\xe9rer les donn\xe9es afin que le Template les charge et les affiche. Et dans un programme en mod\xe8le MVC Template il est bon de ne pas fermer la base PHP finale { ?>}  cela doit rester ouvert signifiant que le mod\xe8le actuel est un fichier interm\xe9diaire compl\xe9mentaire a un autre (Template)."}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Mise en place du Template"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Dans le r\xe9pertoire templates on cr\xe9e notre fichier templates/liste_etudiants_layout.php"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-md",metastring:'title="root@Chirst-Ma:/var/www/html/projets/php_mvc_pro_template# "',children:"nano templates/liste_etudiants_layout.php\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"Et on ajoute le code suivant:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"<html>\n<head>\n    <title>Les etudiants </title>\n</head>\n<body>\n    <h1>la liste des etudiants</h1>\n    <table border='1'>\n<th>\n<tr>\n        <td>PRENOM</td>\n        <td>NOM</td>\n        <td>CLASSE</td>\n        <td>NOTE</td>\n</tr>\n</th>\n\n\n       <?php foreach ($etudiants as $etudiant): ?>\n<tbody>\n<tr>\n        <td><?php echo $etudiant->prenom ?></td>\n        <td><?php echo $etudiant->nom ?></td>\n        <td><?php echo $etudiant->classe ?></td>\n        <td><?php echo $etudiant->note ?></td>\n</tr>\n</th>\n\n       <?php endforeach; ?>\n</tr>\n</tbody>\n</body>\n</html>\n\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Mise en place d\u2019un contr\xf4leur"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Apres le mod\xe8le et le Template on va devoir cr\xe9er un contr\xf4leur pour pouvoir interagir entre nos diff\xe9rentes parties des codes pr\xe9c\xe9dents.\nDans le m\xeame r\xe9pertoire de travail que le mod\xe8le on cr\xe9e le contr\xf4leur."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-md",metastring:'title="root@Chirst-Ma:/var/www/html/projets/php_mvc_pro_template#"',children:"nano controleur_liste_etudiants.php\n"})}),"\n",(0,s.jsx)(n.p,{children:"Et on met le contenu suivant:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"<?php\n  \n  require_once 'modele.php';\n  $etudiants = lister_les_etudiants();\n  require 'templates/liste_etudiants.php';\n?>\n\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Explication du code :"})}),"\n",(0,s.jsx)(n.p,{children:"Dans le code de ce contr\xf4leur on a pu ins\xe9rer tout d\u2019abord le mod\xe8le a partir duquel on a r\xe9cup\xe9r\xe9 la fonction qui affiche les \xe9tudiants pour la passer au Template pour l\u2019affichage."}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Test"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Pour tester le programme on va aller sur un navigateur et faire appel au contr\xf4leur"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"http://localhost/projets/php_mvc_pro_template/controleur_liste_etudiants.php",children:"http://localhost/projets/php_mvc_pro_template/controleur_liste_etudiants.php"})}),"\n","\n",(0,s.jsx)("img",{src:p,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: Test reussi"})})}),"\n",(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Cr\xe9ation  d'un layout et l\u2019appliquer sur le programme"})}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Cr\xe9er un fichier base_layout.php"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Comme on l\u2019a dit le layout permet de mieux organiser le design d\u2019un site d\u2019une mani\xe8re \xe0 dynamiser la page. Ici nous allons cr\xe9er un fichier base_layout.php qui nous permettra d\u2019adapter facilement et dynamiquement notre Template gr\xe2ce aussi \xe0 la notion de bufferisation vue pr\xe9c\xe9demment."}),"\n",(0,s.jsx)(n.p,{children:"Dans notre Template on cr\xe9e le fichier c\u2019est \xe9vident le layout c\u2019est du fichier html."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-md",metastring:'title="root@Chirst-Ma:/var/www/html/projets/php_mvc_pro_template#"',children:" nano templates/base_layout.php \n"})}),"\n",(0,s.jsx)(n.p,{children:"et on met le contenu suivant:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\n<html>\n<head>\n    <title><?php echo $title ?></title>\n</head>\n<body>\n    <?php echo $content ?>\n</body>\n</html>\n\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Explication du code :"})}),"\n",(0,s.jsx)(n.p,{children:"Dans notre code ici nous avons juste fait appel a deux variables $title et $content, ces deux variables seront cr\xe9\xe9es dans notre Template /templates/liste_etudiants.php  la deuxi\xe8me sera surtout r\xe9cup\xe9r\xe9e gr\xe2ce \xe0 la bufferisation."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Cr\xe9ation d\u2019un fichierTemplate pour appliquer le layout"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Apres la cr\xe9ation du layout on cr\xe9e notre Template pour l\u2019adaptation et l\u2019utiliser bien-s\xfbr la bufferisation."}),"\n",(0,s.jsx)(n.p,{children:"On cree le template"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"nano templates/liste_etudiants_layout.php\n"})}),"\n",(0,s.jsx)(n.p,{children:"et on met le contenu suivant:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"<?php\n// templates/t-list.php\n  $title = 'Liste des etudiants';\n  ob_start();\n?>\n<html>\n<head>\n    <title>Les etudiants </title>\n</head>\n<body>\n    <h1>la liste des etudiants</h1>\n    <table border='1'>\n<th>\n<tr>\n        <td>PRENOM</td>\n        <td>NOM</td>\n        <td>CLASSE</td>\n        <td>NOTE</td>\n</tr>\n</th>\n       <?php foreach ($etudiants as $etudiant): ?>\n<tbody>\n<tr>\n        <td><?php echo $etudiant->prenom ?></td>\n        <td><?php echo $etudiant->nom ?></td>\n        <td><?php echo $etudiant->classe ?></td>\n        <td><?php echo $etudiant->note ?></td>\n</tr>\n</th>\n       <?php endforeach; ?>\n</tr>\n<?php\n  $content = ob_get_clean();\n  include 'base_layout.php'\n?>\n</tbody>\n</body>\n</html>\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"Comme on vient de cr\xe9er un nouveau Template il faut qu\u2019on prenne cela en compte dans le contr\xf4leur."}),"\n",(0,s.jsx)(n.p,{children:"on edite le controleur"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"nano controleur_liste_etudiants.php\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"et on met le contenu suivant"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"<?php\n  require_once 'modele.php';\n  $etudiants = lister_les_etudiants();\n  require 'templates/liste_etudiants_layout.php';\n?>\n\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:"On a juste change le nom du Template c\u2019est \xe0 dire liste_etudiants.php en liste_etudiants_layout.php"})}),"\n",(0,s.jsxs)(n.ol,{start:"6",children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Test"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Pour le test on appelle juste notre contr\xf4leur dans le navigateur"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"http://localhost/projets/php_mvc_pro_template/controleur_liste_etudiants.php\n"})}),"\n","\n",(0,s.jsx)("img",{src:u,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: Test reussi"})})}),"\n",(0,s.jsx)(n.h4,{id:"c-programme-en-mvc-avec-prise-en-compte-de-template-avec-laction-de-voir-les-d\xe9tails-dun-\xe9tudiant",children:"c. Programme en MVC avec prise en compte de Template avec l\u2019action de voir les d\xe9tails d\u2019un \xe9tudiant"}),"\n",(0,s.jsx)(n.p,{children:"Nous allons ajouter une autre fonction \xe0 notre programme celle de donner les d\xe9tails sur un \xe9tudiant gr\xe2ce \xe0 son id r\xe9cup\xe9r\xe9. Et comme la logique nous le dit,"}),"\n",(0,s.jsx)(n.p,{children:"1e fonction = un mod\xe8le = un contr\xf4leur =Template ce qui nous am\xe8ne \xe0 suivre les \xe9tapes suivantes :"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Cr\xe9er un mod\xe8le (ajouter notre fonction au mod\xe8le)"}),"\n",(0,s.jsx)(n.li,{children:"Cr\xe9er un fichier Template"}),"\n",(0,s.jsx)(n.li,{children:"Cr\xe9er un contr\xf4leur"}),"\n",(0,s.jsx)(n.li,{children:"Test"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Ainsi on passe \xe0 la pratique"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"1.  Cr\xe9er un mod\xe8le (ajouter notre fonction au mod\xe8le)"})}),"\n",(0,s.jsx)(n.p,{children:"On cree notre fonction d'ajout"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"nano modele.php\n"})}),"\n",(0,s.jsx)(n.p,{children:"la fonction a ajouter est:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"function details_etudiant_par_id($id)\n  {\n      $connexion=connect_db();\n      $sql=\"select  * from etudiants where id=:id\";\n      $stmt=$connexion->prepare($sql);\n      $stmt->bindParam(':id', $id, PDO::PARAM_INT);\n      $stmt->execute();\n      return $stmt->fetch();\n\n  }\n\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Explication du code :"})}),"\n",(0,s.jsx)(n.p,{children:"Nous avons ajoute une fonction a notre mod\xe8le avec une requ\xeate pr\xe9par\xe9e de s\xe9lectionner toutes les informations d\u2019un \xe9tudiant par rapport \xe0 son id."}),"\n",(0,s.jsx)(n.p,{children:"Le code final de modele.php donne:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"  function connect_db()\n  {\n      define('dsn', 'mysql:host=localhost;dbname=ecole');\n      define('user', 'mamadou');\n      define('password', 'passer');\n  try\n  {\n      $connexion=new PDO(dsn,user,password);\n  }\n  catch(PDOException $e)\n  {\n  printf(\"Echec connexion : %s\\n\",\n  $e->getMessage());\n  exit();\n  }\n  return $connexion;\n  }\n\n  function lister_les_etudiants()\n  {\n      $connexion=connect_db();\n      $amis=Array();\n      $sql=\"select * from etudiants\";\n      $stmt=$connexion->prepare($sql);\n      $stmt->execute();\n      $result=$stmt->fetchALL(PDO::FETCH_OBJ);\n      foreach ($result  as $row)\n      {\n          $etudiants[]=$row;\n      }\n\n      return $etudiants;\n  }\n  function details_etudiant_par_id($id)\n  {\n      $connexion=connect_db();\n      $sql=\"select  * from etudiants where id=:id\";\n      $stmt=$connexion->prepare($sql);\n      $stmt->bindParam(':id', $id, PDO::PARAM_INT);\n      $stmt->execute();\n      return $stmt->fetch();\n\n  }\n\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"2.  Cr\xe9er un fichier Template"})}),"\n",(0,s.jsx)(n.p,{children:"On cr\xe9e maintenant notre Template sur les d\xe9tails d\u2019un \xe9tudiant"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\nnano templates/details_etudiant_layout.php\n"})}),"\n",(0,s.jsx)(n.p,{children:"et on met le contenu"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\n\n<?php\nif (empty($person['prenom']) && empty($person['nom'])){\n\n\n        echo \"Aucun etudiant est enregistre sur cet ID\";\n\n}else{\n\n\n        $title = $person['nom'];\n        ob_start();\n        ?>\n        <h1>Details sur\n        <?php echo $person['prenom'].' '.$person['nom'] ?>\n        </h1>\n        <?php\n         echo ' vous etes sur le dossier de '.$person['prenom'].\"  \".$person['nom'].\" \".\"il est en classe de \".$person['classe'].\" \".\"il a une note de \".$person['note'].\"<br>\";\n        $content = ob_get_clean();\n        include 'base_layout.php';\n}\n?>\n\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Explication du code :"})}),"\n",(0,s.jsx)(n.p,{children:"C\u2019est notre Template pour d\xe9tails d\u2019un \xe9tudiant au d\xe9but on a mis une condition sur la variable person(elle sera cr\xe9\xe9e dans le contr\xf4leur des d\xe9tails de l\u2019\xe9tudiant) qui r\xe9cup\xe8re les donn\xe9es de l\u2019\xe9tudiant que s\u2019il r\xe9cup\xe8re aucune donn\xe9e c\u2019est-\xe0-dire que l\u2019ID n\u2019existe pas(les donn\xe9es vides) on affiche le message de non reconnaissance de l\u2019ID au cas contraire on affiche les informations de  l\u2019\xe9tudiant gr\xe2ce a son ID et on les affiche dans un le navigateur."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"3.  Cr\xe9er un contr\xf4leur"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"Cr\xe9er un contr\xf4leur"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"On cree notre controleur."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"nano controleur_details_etudiant.php\n"})}),"\n",(0,s.jsx)(n.p,{children:"et on met le contenu suivant:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"<?php\n  require_once 'modele.php';\n  $person = details_etudiant_par_id($_GET['id']);\n  require 'templates/details_etudiant_layout.php';\n?>\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Explication du code :"})}),"\n",(0,s.jsx)(n.p,{children:"Ceci est le contr\xf4leur sur les d\xe9tails des \xe9tudiants qui connecte d\u2019abord a la base de donn\xe9es dans le mod\xe8le ensuite r\xe9cup\xe8re  les informations de l\u2019\xe9tudiant par l\u2019ID dans la requ\xeate  dans la fonction details_etudiant_par_id de l\u2019\xe9tudiant dans une variable appel\xe9e person pour les  passer au Template qui les affiche."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"4.  Test"})}),"\n",(0,s.jsx)(n.p,{children:"Pour test le programme sur les details d\u2019un etudiant par rapport a son ID nous devons dans notre navigateur appeler le contr\xf4leur d\xe9tails (controleur_details_etudiant.php) avec un param\xe8tre id"}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Il est important de  comprendre le fonctionnement des verbes du service Web comme GET,PUT,POST,PATCH,DELETE pour savoir dans quel cas utiliser tel verbe. Par exemple dans notre cas on va utiliser le verbe GET"}),"."]})}),"\n",(0,s.jsx)(n.p,{children:"On va chercher les informations sur l'etudiant qui a ID=1"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"http://localhost/projets/php_mvc_pro_template/controleur_details_etudiant.php?id=1 \n"})}),"\n","\n",(0,s.jsx)("img",{src:m,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: Test reussi"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Quand l\u2019ID n\u2019existe pas"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"On liste d'abord le tableau."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"http://localhost/projets/php_mvc_pro_template/controleur_liste_etudiants.php\n"})}),"\n","\n",(0,s.jsx)("img",{src:u,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: liste des etudiants"})})}),"\n",(0,s.jsx)(n.p,{children:"on voit que l'etudiant avec un ID=8 n'existe pas donc on essaie."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"http://localhost/projets/php_mvc_pro_template/controleur_details_etudiant.php?id=8\n"})}),"\n",(0,s.jsx)(n.p,{children:"le resultat donne"}),"\n","\n",(0,s.jsx)("img",{src:h,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: Test reussi l'id n'existe pas"})})}),"\n",(0,s.jsx)(n.p,{children:"Comme on l'a dit dans notre template que si les variables des parametres $prenom et $nom ne contiennent aucune valeur ce message s'affiche."}),"\n",(0,s.jsx)(n.h4,{id:"d-programme-en-mvc-avec-prise-en-compte-de-template-avec-laction-dins\xe9rer-les-\xe9tudiants-create",children:"d. Programme en MVC avec prise en compte de Template avec l\u2019action d\u2019ins\xe9rer les \xe9tudiants (CREATE)"}),"\n",(0,s.jsx)(n.p,{children:"Dans ce programme on va devoir mettre au point une action d\u2019insertion des \xe9tudiants dans notre base de donn\xe9es."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Les \xe9tapes \xe0 suivre :"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"1.  Cr\xe9er un mod\xe8le (ajouter notre fonction au mod\xe8le)"}),"\n",(0,s.jsx)(n.strong,{children:"2.  Cr\xe9er un fichier Template"}),"\n",(0,s.jsx)(n.strong,{children:"3.  Cr\xe9er le contr\xf4leur"}),"\n",(0,s.jsx)(n.strong,{children:"4.  Test"})]}),"\n",(0,s.jsx)(n.p,{children:"On passe a la pratique"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"1.  Cr\xe9ation du mod\xe8le (ajout de la fonction d\u2019insertion)"})}),"\n",(0,s.jsx)(n.p,{children:"Nous allons cr\xe9er notre fonction d\u2019insertion et apres l\u2019ajouter au mod\xe8le g\xe9n\xe9ral modele.php"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\n\nfunction inserer_etudiant($prenom, $nom, $classe, $note)\n  {\n      $connexion=connect_db();\n      $sql=\"insert into etudiants (prenom,nom,classe,note) values (:prenom, :nom, :classe, :note)\";\n      $stmt=$connexion->prepare($sql);\n      $stmt->bindParam(':prenom', $prenom);\n      $stmt->bindParam(':nom', $nom);\n      $stmt->bindParam(':classe', $classe);\n      $stmt->bindParam(':note', $note);\n      return $stmt->execute();\n  }\n\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Explication du code :"})}),"\n",(0,s.jsx)(n.p,{children:"Nous venons de cr\xe9er une fonction d\u2019insertion \xab inserer_etudiant \xbb et elle prend en param\xe8tres les diff\xe9rentes valeurs(pr\xe9nom, nom, classe, note) que l\u2019utilisateur lui passera  qu\u2019elle va ins\xe9rer dans la table \xe9tudiants avec une requ\xeate pr\xe9par\xe9e.\nCe qui donne le modele final suivant :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"nano modele.php\n\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\n\n<?php\n\n  function connect_db()\n  {\n      define('dsn', 'mysql:host=localhost;dbname=ecole');\n      define('user', 'mamadou');\n      define('password', 'passer');\n  try\n  {\n      $connexion=new PDO(dsn,user,password);\n  }\n  catch(PDOException $e)\n  {\n  printf(\"Echec connexion : %s\\n\",\n  $e->getMessage());\n  exit();\n  }\n  return $connexion;\n  }\n\n  function lister_les_etudiants()\n  {\n      $connexion=connect_db();\n      $amis=Array();\n      $sql=\"select * from etudiants\";\n      $stmt=$connexion->prepare($sql);\n      $stmt->execute();\n      $result=$stmt->fetchALL(PDO::FETCH_OBJ);\n      foreach ($result  as $row)\n      {\n          $etudiants[]=$row;\n      }\n\n      return $etudiants;\n  }\n  function details_etudiant_par_id($id)\n  {\n      $connexion=connect_db();\n      $sql=\"select  * from etudiants where id=:id\";\n      $stmt=$connexion->prepare($sql);\n      $stmt->bindParam(':id', $id, PDO::PARAM_INT);\n      $stmt->execute();\n      return $stmt->fetch();\n  \n  }\n  \n  function inserer_etudiant($prenom, $nom, $classe, $note)\n  {\n      $connexion=connect_db();\n      $sql=\"insert into etudiants (prenom,nom,classe,note) values (:prenom, :nom, :classe, :note)\";\n      $stmt=$connexion->prepare($sql);\n      $stmt->bindParam(':prenom', $prenom);\n      $stmt->bindParam(':nom', $nom);\n      $stmt->bindParam(':classe', $classe);\n      $stmt->bindParam(':note', $note);\n      return $stmt->execute();\n  \n  }\n\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"2.  Cr\xe9er un fichier Template"})}),"\n",(0,s.jsx)(n.p,{children:"Maintenant on va cr\xe9er notre Template"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"nano templates/ insertion_etudiant_layout.php\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"et on met le contenu suivant:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'\n<?php\nif ($prenom && $nom && $classe && $note){\n\n  $resultat = inserer_etudiant($prenom, $nom, $classe, $note);\n  if($resultat){\n    $title = $prenom;\n          ob_start();\n          ?>\n          <h1>Enregistrement de l\'etudiant(e)\n          <?php echo $prenom.\' \'.$nom ?>\n          </h1>\n          <?php\n          echo \' Insertion reussi de  \'.$prenom."  ".$nom." "."en classe de ".$classe." "."avec une note de ".$note."<br>";\n            $content = ob_get_clean();\n          include \'base_layout.php\';\n\n  }       \n\n}else{\n   echo "Veuillez renseigner toutes les informations de l\'\xe9tudiant";\n\n  \n}\n?>\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Explication du code :"})}),"\n",(0,s.jsx)(n.p,{children:"Ici sur notre page Template on a mis au d\xe9but une condition pour v\xe9rifier que le programme a  recu les valeurs des param\xe8tres et ensuite de laisser un message suite a ses param\xe8tres au cas contraire l\u2019utilisateur doit remplir tous les champs."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"3.  Cr\xe9er un contr\xf4leur"})}),"\n",(0,s.jsx)(n.p,{children:"On cr\xe9e maintenant notre contr\xf4leur pour l\u2019insertion des \xe9tudiants."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"nano controleur_insertion_etudiant.php\n"})}),"\n",(0,s.jsx)(n.p,{children:"et on met le contenu suivant"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"<?php\n\nrequire_once 'modele.php';\n\n$prenom = $_GET['prenom'] ;\n$nom = $_GET['nom'] ;\n$classe = $_GET['classe'] ;\n$note = $_GET['note'] ;\nrequire 'templates/insertion_etudiant_layout.php';\n?>\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Explication du code :"})}),"\n",(0,s.jsx)(n.p,{children:"Nous venons de mettre en place apres le mod\xe8le et le Template   notre contr\xf4leur dans lequel il r\xe9cup\xe8re les diff\xe9rentes variables de l\u2019insertion."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"4.  Test"})}),"\n",(0,s.jsx)(n.p,{children:"Maintenant on peut passer au test d\u2019insertion qui consiste a mettre l\u2019url dans le navigateur suivi de \xab ? \xbb  les param\xe8tres et leurs valeurs."}),"\n",(0,s.jsx)(n.p,{children:"Cette figure suivante montre comment mettre les differents parametres pour l'insertion dans le navigateur."}),"\n","\n",(0,s.jsx)("img",{src:x,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: systeme d'insertion"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"On liste les \xe9tudiants"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"http://localhost/projets/php_mvc_pro_template/controleur_liste_etudiants.php\n"})}),"\n","\n",(0,s.jsx)("img",{src:j,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: liste des etudiants"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"On passe \xe0 l\u2019insertion de l\u2019\xe9tudiant suivant :"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\uf0a7 ",(0,s.jsx)(n.strong,{children:"Prenom : Jamal"})]}),"\n",(0,s.jsxs)(n.p,{children:["\uf0a7 ",(0,s.jsx)(n.strong,{children:"Nom : Moussa"})]}),"\n",(0,s.jsxs)(n.p,{children:["\uf0a7 ",(0,s.jsx)(n.strong,{children:"Classe : Master"})]}),"\n",(0,s.jsxs)(n.p,{children:["\uf0a7 ",(0,s.jsx)(n.strong,{children:"Note : 15"})]}),"\n",(0,s.jsx)(n.p,{children:"on met les informations"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"http://localhost/projets/php_mvc_pro_template/controleur_insertion_etudiant.php?prenom=Jamal&nom=MOUSSA&classe=master&note=15\n"})}),"\n","\n",(0,s.jsx)("img",{src:g,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: insertion de l'etudiant"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"On reverifie la liste"}),"\n"]}),"\n","\n",(0,s.jsx)("img",{src:f,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: affichage de l'etudiant  dans la base de donnees"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verifions avec un parametre manquant \xab note \xbb"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"http://localhost/projets/php_mvc_pro_template/controleur_insertion_etudiant.php?prenom=Jamal&nom=MOUSSA&classe=master\n\n"})}),"\n","\n",(0,s.jsx)("img",{src:b,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: message d'erreurs"})})}),"\n",(0,s.jsx)(n.h4,{id:"e-programme-en-mvc-avec-prise-en-compte-de-template-avec-laction-de-modifier-les-informations-dun-\xe9tudiant-update",children:"e. Programme en MVC avec prise en compte de Template avec l\u2019action de modifier les informations d\u2019un \xe9tudiant (UPDATE)"}),"\n",(0,s.jsx)(n.p,{children:"Dans ce programme on va mettre \xe0 jour les informations d\u2019un \xe9tudiant par rapport \xe0 son id."}),"\n",(0,s.jsx)(n.p,{children:"Les \xe9tapes \xe0 suivre :"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Cr\xe9er un mod\xe8le \xab ajout de la fonction modifier_un \xe9tudiant \xbb"}),"\n",(0,s.jsx)(n.li,{children:"Cr\xe9er un Template"}),"\n",(0,s.jsx)(n.li,{children:"Cr\xe9er un controleur"}),"\n",(0,s.jsx)(n.li,{children:"Tester le programme"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"1.  On cr\xe9e notre mod\xe8le pour la mise \xe0 jour des informations"})}),"\n",(0,s.jsx)(n.p,{children:"La  fonction de notre modele est :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\n\nLa  fonction de notre modele est :\nfunction modifier_etudiant($id, $prenom, $nom, $classe, $note)\n  {\n      $connexion=connect_db();\n      $sql=\"update  etudiants set prenom = :prenom,nom =:nom, classe=:classe, note =:note where id=:id\";\n      $stmt=$connexion->prepare($sql);\n      $stmt->bindParam(':id', $id, PDO::PARAM_INT);\n      $stmt->bindParam(':prenom', $prenom);\n      $stmt->bindParam(':nom', $nom);\n      $stmt->bindParam(':classe', $classe);\n      $stmt->bindParam(':note', $note);\n      return $stmt->execute();    \n  }\n\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Explication du code:"})}),"\n",(0,s.jsx)(n.p,{children:"Nous venons de cr\xe9er une nouvelle fonction pour la mise a jour des informations des \xe9tudiant par rapport \xe0 l\u2019ID r\xe9cup\xe9r\xe9 dans une requ\xeate pr\xe9par\xe9e ce qui veut dire que l\u2019on peut modifier ses informations que si cet ID existe."}),"\n",(0,s.jsx)(n.p,{children:"Et le code final du modele.php donne"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\n<?php\n\n  function connect_db()\n  {\n      define('dsn', 'mysql:host=localhost;dbname=ecole');\n      define('user', 'mamadou');\n      define('password', 'passer');\n  try\n  {\n      $connexion=new PDO(dsn,user,password);\n  }\n  catch(PDOException $e)\n  {\n  printf(\"Echec connexion : %s\\n\",\n  $e->getMessage());\n  exit();\n  }\n  return $connexion;\n  }\n\n  function lister_les_etudiants()\n  {\n      $connexion=connect_db();\n      $amis=Array();\n      $sql=\"select * from etudiants\";\n      $stmt=$connexion->prepare($sql);\n      $stmt->execute();\n      $result=$stmt->fetchALL(PDO::FETCH_OBJ);\n      foreach ($result  as $row)\n      {\n          $etudiants[]=$row;\n      }\n\n      return $etudiants;\n  }\n  function details_etudiant_par_id($id)\n  {\n      $connexion=connect_db();\n      $sql=\"select  * from etudiants where id=:id\";\n      $stmt=$connexion->prepare($sql);\n      $stmt->bindParam(':id', $id, PDO::PARAM_INT);\n      $stmt->execute();\n      return $stmt->fetch();\n  \n  }\n  \n  function inserer_etudiant($prenom, $nom, $classe, $note)\n  {\n      $connexion=connect_db();\n      $sql=\"insert into etudiants (prenom,nom,classe,note) values (:prenom, :nom, :classe, :note)\";\n      $stmt=$connexion->prepare($sql);\n      $stmt->bindParam(':prenom', $prenom);\n      $stmt->bindParam(':nom', $nom);\n      $stmt->bindParam(':classe', $classe);\n      $stmt->bindParam(':note', $note);\n      return $stmt->execute();\n       \n\n  }\n  function modifier_etudiant($id, $prenom, $nom, $classe, $note)\n  {\n      $connexion=connect_db();\n      $sql=\"update  etudiants set prenom = :prenom,nom =:nom, classe=:classe, note =:note where id=:id\";\n      $stmt=$connexion->prepare($sql);\n      $stmt->bindParam(':id', $id, PDO::PARAM_INT);\n      $stmt->bindParam(':prenom', $prenom);\n      $stmt->bindParam(':nom', $nom);\n      $stmt->bindParam(':classe', $classe);\n      $stmt->bindParam(':note', $note);\n      return $stmt->execute();\n    \n  }\n\n\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"2.  Cr\xe9ation du Template"})}),"\n",(0,s.jsx)(n.p,{children:"On peut maintenant cr\xe9er notre Template pour la mise \xe0 jour"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"nano templates/modification_etudiant_layout.php\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"et on met le code suivant"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'\n<?php\nif ($id && $prenom && $nom && $classe && $note){\n  $resultat = modifier_etudiant($id, $prenom, $nom, $classe, $note);\n  if($resultat){\n    $title = $prenom;\n          ob_start();\n          ?>\n          <h1>Mise a jour de l\'etudiant(e)\n          <?php echo $prenom.\' \'.$nom ?>\n          </h1>\n          <?php\n          echo \' Mise a jour des informations  de  \'.$prenom."  ".$nom." "."en classe de ".$classe." "."avec une note de ".$note."<br>";\n            $content = ob_get_clean();\n          include \'base_layout.php\';\n\n  }\n\n}else{\n   echo "Cet etudiant n existe pas";\n\n  \n}\n?>\n\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Explication du code :"})}),"\n",(0,s.jsx)(n.p,{children:"Dans ce code nous avons verifier l\u2019existance les valeurs des parametres afin de pouvoir ecrire un message de mise \xe0 jour au cas contraire on dit que l\u2019etudiant n\u2019existe pas."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"3.  Cr\xe9ation du contr\xf4leur"})}),"\n",(0,s.jsx)(n.p,{children:"On peut maintenant cr\xe9er notre contr\xf4leur"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"nano controleur_modifier_etudiant.php\n"})}),"\n",(0,s.jsx)(n.p,{children:"et on met le code"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\n<?php\n\nrequire_once 'modele.php';\n\n$id = $_GET['id'];\n$prenom = $_GET['prenom'];\n$nom = $_GET['nom'] ;\n$classe = $_GET['classe'] ;\n$note = $_GET['note'] ;\nrequire 'templates/modification_etudiant_layout.php';\n?> \n\n\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Explication du code :"})}),"\n",(0,s.jsx)(n.p,{children:"Dans le code on a r\xe9cup\xe9r\xe9 les diff\xe9rentes variables pour les diff\xe9rents param\xe8tres afin de les passer au Template"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"4.  Test du programme"})}),"\n",(0,s.jsx)(n.p,{children:"On test maintenant le programme en donnant le bon ID sur le navigateur"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"On liste les etudiants"}),"\n"]}),"\n","\n",(0,s.jsx)("img",{src:f,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: affichage des etudiants"})})}),"\n",(0,s.jsx)(n.p,{children:"Comme on va modifier les informations par ID des \xe9tudiants, on modifie le code source du template lecture des \xe9tudiants pour ressortir les ID donc on ajoute juste au-dessus de pr\xe9nom l\u2019ID comme suit :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\nnano templates/liste_etudiants_layout\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"<?php\n\n  $title = 'Liste des etudiants';\n  ob_start();\n?>\n\n\n<html>\n<head>\n    <title>Les etudiants </title>\n</head>\n<body>\n    <h1>la liste des etudiants</h1>\n    <table border='1'>\n<th>\n<tr>\n  <td>ID</td>\n    <td>PRENOM</td>\n  <td>NOM</td>\n  <td>CLASSE</td>\n  <td>NOTE</td>\n</tr>\n</th>\n\n\n       <?php foreach ($etudiants as $etudiant): ?>\n<tbody>\n<tr>\n        <td><?php echo $etudiant->id ?></td>\n        <td><?php echo $etudiant->prenom ?></td>\n        <td><?php echo $etudiant->nom ?></td>\n        <td><?php echo $etudiant->classe ?></td>\n        <td><?php echo $etudiant->note ?></td>\n</tr>\n</th>\n\n       <?php endforeach; ?>\n</tr>\n<?php\n  $content = ob_get_clean();\n  include 'base_layout.php'\n?>\n\n</tbody>\n</body>\n</html>\n"})}),"\n",(0,s.jsx)(n.p,{children:"On relance"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"http://localhost/projets/php_mvc_pro_template/controleur_liste_etudiants.php",children:"http://localhost/projets/php_mvc_pro_template/controleur_liste_etudiants.php"})}),"\n","\n",(0,s.jsx)("img",{src:v,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: Liste des etudiants"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"On va modifier l\u2019etudiant avec ID=22 on change son prenom = \xabFalilou \xbb et son nom =  \xab SALL \xbb"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"localhost/projets/php_mvc_pro_template/controleur_modifier_etudiant.php?id=22&prenom=Falilou&nom=SALL&classe=master&note=15\n"})}),"\n",(0,s.jsx)(n.p,{children:"Et on regarde le resultat"}),"\n","\n",(0,s.jsx)("img",{src:$,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: Modification reussie"})})}),"\n",(0,s.jsx)(n.p,{children:"On liste a nouveau"}),"\n","\n",(0,s.jsx)("img",{src:_,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: Modifications prises en compte"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Avec un param\xe8tre manquant cela donne"}),"\n"]}),"\n","\n",(0,s.jsx)("img",{src:P,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: cela ne marche pas"})})}),"\n",(0,s.jsx)(n.p,{children:"les modifications ne vont pas marcher car on a defini une condition d'accepter de recuperer toutes les valeurs des variables avant de lancer l'operation."}),"\n",(0,s.jsx)(n.h4,{id:"f-programme-en-mvc-avec-prise-en-compte-de-template-avec-laction-de-supprimer-un-\xe9tudiant-delete",children:"f. Programme en MVC avec prise en compte de Template avec l\u2019action de supprimer un \xe9tudiant (DELETE)"}),"\n",(0,s.jsx)(n.p,{children:"Dans ce programme on va effectuer une action de supprimer un \xe9tudiant par son id"}),"\n",(0,s.jsx)(n.p,{children:"Les \xe9tapes \xe0 suivre:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Cr\xe9er un mod\xe8le \xab ajout de la fonction modifier_un \xe9tudiant \xbb"}),"\n",(0,s.jsx)(n.li,{children:"Cr\xe9er un Template"}),"\n",(0,s.jsx)(n.li,{children:"Cr\xe9er un controleur"}),"\n",(0,s.jsx)(n.li,{children:"Tester le programme"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"On passe a la pratique"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"1.  Cr\xe9er un mod\xe8le \xab ajout de la fonction supprimer un \xe9tudiant \xbb"})}),"\n",(0,s.jsx)(n.p,{children:"On cree une nouvelle fonction pour la suppression des etudiants"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\n  function supprimer_etudiant_par_id($id)\n  {\n      $connexion=connect_db();\n      $sql=\"select count(*) from etudiants where id = :id\";\n      $stmt=$connexion->prepare($sql);\n      $stmt->bindParam(':id', $id, PDO::PARAM_INT);\n      $stmt->execute();\n\n      if($stmt->fetchColumn() > 0){\n        //$connexion=connect_db();\n        $sql1=\"delete from etudiants where id=:id\";\n        $stmt1=$connexion->prepare($sql1);\n        $stmt1->bindParam(':id', $id, PDO::PARAM_INT);\n        $stmt1->execute();\n        return $stmt1;\n\n\n      }else{\n        return null;\n      }\n     \n  }\n\n\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Explication du code :"})}),"\n",(0,s.jsx)(n.p,{children:"Nous avons cr\xe9\xe9 une fonction de supprimer un \xe9tudiant et dans cette fonction on a mis deux requ\xeates pr\xe9par\xe9es avec une condition la premi\xe8re pour v\xe9rifier si l\u2019id de l\u2019\xe9tudiant existe et la derni\xe8re pour supprimer \xe0 partir de cet ID. Ce qui veut dire si l\u2019ID n\u2019existe pas on ne peut rien supprimer et cela retourne une erreur."}),"\n",(0,s.jsx)(n.p,{children:"Et le modele.php donne maintenant:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"<?php\n\n  function connect_db()\n  {\n      define('dsn', 'mysql:host=localhost;dbname=ecole');\n      define('user', 'mamadou');\n      define('password', 'passer');\n  try\n  {\n      $connexion=new PDO(dsn,user,password);\n  }\n  catch(PDOException $e)\n  {\n  printf(\"Echec connexion : %s\\n\",\n  $e->getMessage());\n  exit();\n  }\n  return $connexion;\n  }\n\n  function lister_les_etudiants()\n  {\n      $connexion=connect_db();\n      $amis=Array();\n      $sql=\"select * from etudiants\";\n      $stmt=$connexion->prepare($sql);\n      $stmt->execute();\n      $result=$stmt->fetchALL(PDO::FETCH_OBJ);\n      foreach ($result  as $row)\n      {\n          $etudiants[]=$row;\n      }\n\n      return $etudiants;\n  }\n  function details_etudiant_par_id($id)\n  {\n      $connexion=connect_db();\n      $sql=\"select  * from etudiants where id=:id\";\n      $stmt=$connexion->prepare($sql);\n      $stmt->bindParam(':id', $id, PDO::PARAM_INT);\n      $stmt->execute();\n      return $stmt->fetch();\n  \n  }\n  \n  function inserer_etudiant($prenom, $nom, $classe, $note)\n  {\n      $connexion=connect_db();\n      $sql=\"insert into etudiants (prenom,nom,classe,note) values (:prenom, :nom, :classe, :note)\";\n      $stmt=$connexion->prepare($sql);\n      $stmt->bindParam(':prenom', $prenom);\n      $stmt->bindParam(':nom', $nom);\n      $stmt->bindParam(':classe', $classe);\n      $stmt->bindParam(':note', $note);\n      return $stmt->execute();\n  }\n  function modifier_etudiant($id, $prenom, $nom, $classe, $note)\n  {\n      $connexion=connect_db();\n      $sql=\"update  etudiants set prenom = :prenom,nom =:nom, classe=:classe, note =:note where id=:id\";\n      $stmt=$connexion->prepare($sql);\n      $stmt->bindParam(':id', $id, PDO::PARAM_INT);\n      $stmt->bindParam(':prenom', $prenom);\n      $stmt->bindParam(':nom', $nom);\n      $stmt->bindParam(':classe', $classe);\n      $stmt->bindParam(':note', $note);\n      return $stmt->execute();\n    \n  }\n  function supprimer_etudiant_par_id($id)\n  {\n      $connexion=connect_db();\n      $sql=\"select count(*) from etudiants where id = :id\";\n      $stmt=$connexion->prepare($sql);\n      $stmt->bindParam(':id', $id, PDO::PARAM_INT);\n      $stmt->execute();\n\n      if($stmt->fetchColumn() > 0){\n        //$connexion=connect_db();\n        $sql1=\"delete from etudiants where id=:id\";\n        $stmt1=$connexion->prepare($sql1);\n        $stmt1->bindParam(':id', $id, PDO::PARAM_INT);\n        $stmt1->execute();\n        return $stmt1;\n\n\n      }else{\n        return null;\n      }\n     \n  }\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"2.  Cr\xe9er un Template"})}),"\n",(0,s.jsx)(n.p,{children:"On cr\xe9e maintenant notre Template"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"nano template/supprimer_etudiant_layout.php\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"et le contenu"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'\n<?php\n\nif($id){\n  $result= supprimer_etudiant_par_id($id);\n  if($result){\n    echo " Suppression de l\'etudiant reussie";\n  }else{\n    echo" Erreur pendant la suppression";\n  } \n}\n?> \n\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Explication du code :"})}),"\n",(0,s.jsx)(n.p,{children:"Dans ce code on a juste v\xe9rifi\xe9 si l\u2019id existe ainsi on supprime l\u2019\xe9tudiant avec un message de r\xe9ussite a l\u2019appui au cas contraire un message d\u2019erreur s\u2019affiche."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"3.  Cr\xe9er un contr\xf4leur"})}),"\n",(0,s.jsx)(n.p,{children:"Maintenant on cr\xe9e le contr\xf4leur pour la suppression"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"nano controleur_supprimer_etudiant.php\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"et le contenu"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"<?php\n  require_once 'modele.php';\n  $id=$_GET['id'];\n  require 'templates/supprimer_etudiant_layout.php';\n?>\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Explication du code :"})}),"\n",(0,s.jsx)(n.p,{children:"On a r\xe9cup\xe9r\xe9 l\u2019ID pour la suppression afin de le passer au Template"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"4.  Tester le programme"})}),"\n",(0,s.jsx)(n.p,{children:"On peut maintenant test le programme en passant le param\xe8tre ID dans le navigateur"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"On liste les \xe9tudiants"}),"\n"]}),"\n","\n",(0,s.jsx)("img",{src:_,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: liste des etudiants"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"On supprime l\u2019\xe9tudiant avec l\u2019ID 15"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"http://localhost/projets/php_mvc_pro_template/controleur_supprimer_etudiant.php?id=15\n"})}),"\n","\n",(0,s.jsx)("img",{src:q,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: Message de reussite"})})}),"\n",(0,s.jsx)(n.p,{children:"On verifie la liste"}),"\n","\n",(0,s.jsx)("img",{src:T,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: Suppression reussie"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Avec un id inexistant  \xab id=44 \xbb"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"http://localhost/projets/php_mvc_pro_template/controleur_supprimer_etudiant.php?id=44 \n\n"})}),"\n",(0,s.jsx)(n.p,{children:"Ce qui donne"}),"\n","\n",(0,s.jsx)("img",{src:y,alt:"Image Php",style:{width:900}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Figure: Erreur de suppression"})})}),"\n",(0,s.jsx)(n.p,{children:"On  ne peut pas avoir de resultat ici car cet ID n'existe pas."}),"\n",(0,s.jsx)(n.h4,{id:"g--probl\xe9matique-dans-lutilisations-de-plusieurs-fonctions",children:"g.  Probl\xe9matique dans l\u2019utilisations de plusieurs fonctions"}),"\n",(0,s.jsx)(n.p,{children:"Nous venons de mettre au point des actions CRUD, lister, ins\xe9rer, modifier et supprimer des donn\xe9es des \xe9tudiants. Le syst\xe8me avec lequel on a proc\xe9d\xe9 est arbitraire statique et long ainsi de cette mani\xe8re la gestion de tout cet ensemble peut causer ces soucis."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Retourner une erreur quand on ne lui passe pas le param\xe8tre ID pour l\u2019action d\xe9tails"}),"\n",(0,s.jsx)(n.li,{children:"Difficile de g\xe9rer les deux actions en m\xeame temps dynamiquement"}),"\n",(0,s.jsx)(n.li,{children:"Etant dans un m\xeame mod\xe8le de fonctions mais utilisant deux contr\xf4leurs s\xe9par\xe9ment difficiles de g\xe9rer les contr\xf4leurs pour une bonne coh\xe9sion."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"C\u2019est l\u2019ensemble de ces points qui nous am\xe8ne \xe0 voir la notion d\u2019utiliser un routeur pour la gestion des contr\xf4leurs int\xe9gr\xe9 dans un contr\xf4leur central appel\xe9 contr\xf4leur frontal."})]})}function D(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(A,{...e})}):A(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var s=t(6540);const r={},i=s.createContext(r);function a(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);