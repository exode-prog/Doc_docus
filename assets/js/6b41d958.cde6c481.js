"use strict";(self.webpackChunkexode_docus_1=self.webpackChunkexode_docus_1||[]).push([[2060],{7914:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>g,contentTitle:()=>x,default:()=>v,frontMatter:()=>m,metadata:()=>j,toc:()=>_});var t=s(4848),i=s(8453);const r=s.p+"assets/images/rt-dc0511d43476a218a3d0e94021f49ef5.png",o=s.p+"assets/images/lb-a27842afee081bdd6c2448e7791b33f1.png",l=s.p+"assets/images/dt-6a9d4e88ba72cbdebd35de0952e20644.png",a=s.p+"assets/images/mod-9d6f55f715caf98d134e47cdf3c6b4a6.png",d=s.p+"assets/images/tab1-ca238e2ad87b1e19416ff773a7be4180.png",c=s.p+"assets/images/ss-3ff273f0642a5e750fce3f297cf8bffe.png",p=s.p+"assets/images/sou-89da1d9fddc74ec70789ae948e82434d.png",u=s.p+"assets/images/sp-f11769643be346f2a1c367a23b7bf10c.png",h=s.p+"assets/images/etb-a1cf3a75bbfe01181fec7562eda734eb.png",m={sidebar_position:5},x="D. LE ROUTING SUR LE MODELE EN MVC",j={id:"Tutoriel-Notions-en-PHP/routing_mvc_php",title:"D. LE ROUTING SUR LE MODELE EN MVC",description:"Introduction a la notion de routing",source:"@site/docs/Tutoriel-Notions-en-PHP/routing_mvc_php.md",sourceDirName:"Tutoriel-Notions-en-PHP",slug:"/Tutoriel-Notions-en-PHP/routing_mvc_php",permalink:"/Doc_docus/docs/Tutoriel-Notions-en-PHP/routing_mvc_php",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Tutoriel-Notions-en-PHP/routing_mvc_php.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"C. TEMPLATE, BUFFERISATION, LAYOUT EN PHP",permalink:"/Doc_docus/docs/Tutoriel-Notions-en-PHP/template_buff_layout"},next:{title:"CONCLUSION",permalink:"/Doc_docus/docs/Tutoriel-Notions-en-PHP/conclusion"}},g={},_=[{value:"Introduction a la notion de routing",id:"introduction-a-la-notion-de-routing",level:3},{value:"Importance du Routeur",id:"importance-du-routeur",level:3},{value:"Les \xe9tapes \xe0 suivre",id:"les-\xe9tapes-\xe0-suivre",level:3},{value:"Mise en pratique",id:"mise-en-pratique",level:3}];function f(e){const n={code:"code",em:"em",h1:"h1",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"d-le-routing-sur-le-modele-en-mvc",children:"D. LE ROUTING SUR LE MODELE EN MVC"})}),"\n",(0,t.jsx)(n.h3,{id:"introduction-a-la-notion-de-routing",children:"Introduction a la notion de routing"}),"\n",(0,t.jsx)(n.p,{children:"Au sein d\u2019une architecture MVC, le routeur joue un r\xf4le central en g\xe9rant la navigation entre les diff\xe9rentes parties de l'application on l\u2019appelle contr\xf4leur central ou contr\xf4leur frontal. Dans un programme qui int\xe8gre plusieurs fonctionnalit\xe9s l\u2019utilisateur d\u2019un routeur est tr\xe8s importante car il permet de g\xe9rer d\u2019indiquer le bon contr\xf4leur \xe0 prendre selon les besoins."}),"\n","\n",(0,t.jsx)("img",{src:r,alt:"Image Php",style:{width:900}}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"Figure: routing"})})}),"\n",(0,t.jsx)(n.h3,{id:"importance-du-routeur",children:"Importance du Routeur"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Gestion des Requ\xeates"})}),"\n",(0,t.jsx)(n.p,{children:"Le routeur re\xe7oit toutes les requ\xeates HTTP et d\xe9termine quel contr\xf4leur et quelle m\xe9thode doivent \xeatre appel\xe9s en fonction de l'URL demand\xe9e. Cela permet de diriger le flux des requ\xeates vers les bonnes parties de l'application, assurant ainsi une organisation claire du code."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"S\xe9paration des Pr\xe9occupations"}),"\nEn centralisant la gestion des routes, le routeur permet aux d\xe9veloppeurs de maintenir la s\xe9paration des pr\xe9occupations, un principe fondamental du MVC. Chaque composant (mod\xe8le, vue, contr\xf4leur) peut se concentrer sur sa propre logique sans se soucier de la mani\xe8re dont les requ\xeates sont dirig\xe9es."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Facilit\xe9 d'Extension"})}),"\n",(0,t.jsx)(n.p,{children:"L'utilisation d'un routeur facilite l'ajout de nouvelles fonctionnalit\xe9s. Les d\xe9veloppeurs peuvent simplement ajouter de nouvelles routes sans avoir \xe0 modifier le code existant. Cela rend l'application plus modulaire et adaptable \xe0 l'\xe9volution des besoins"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Clart\xe9 et Lisibilit\xe9"})}),"\n",(0,t.jsx)(n.p,{children:"En d\xe9finissant clairement les routes dans un fichier centralis\xe9, le code devient plus lisible et compr\xe9hensible pour d'autres d\xe9veloppeurs. Cela aide \xe9galement \xe0 la maintenance et \xe0 la collaboration entre \xe9quipes."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"S\xe9curisation du Code"})}),"\n",(0,t.jsx)(n.p,{children:"Le routeur peut impl\xe9menter des m\xe9canismes de s\xe9curit\xe9, comme des listes blanches pour autoriser uniquement certaines routes, ce qui contribue \xe0 prot\xe9ger l'application contre les acc\xe8s non autoris\xe9s."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Ainsi on va mettre en place notre routeur en cr\xe9ant un contr\xf4leur central \xab controllers.php \xbb dans lequel on va mettre tous nos contr\xf4leurs et cr\xe9er un fichier index.php qui va se lancer d\u2019abord pendant le programme et il va d\xe9finir les diff\xe9rentes routes."}),"\n",(0,t.jsx)(n.h3,{id:"les-\xe9tapes-\xe0-suivre",children:"Les \xe9tapes \xe0 suivre"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Cr\xe9ation du fichier contr\xf4leurs.php"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Cr\xe9ation du fichier index.php"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Test"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"mise-en-pratique",children:"Mise en pratique"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"1.\tCr\xe9ation du fichier contr\xf4leurs.php"})}),"\n",(0,t.jsx)(n.p,{children:"A la base de notre projet au m\xeame niveau que les contr\xf4leurs on cr\xe9e le contr\xf4leur routeur."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-md",metastring:'title="root@Chirst-Ma:/var/www/html/projets/php_mvc_pro_template#"',children:"\nnano controllers.php\n\n"})}),"\n",(0,t.jsx)(n.p,{children:"et on met le contenu suivant:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"\n<?php\n//liste de nos controleurs\n  function lecture_action()\n  {\n    $etudiants = lister_les_etudiants();\n    require 'templates/liste_etudiants_layout.php';\n\n  }\n\n\n  function detail_action($id)\n  {\n   $person = details_etudiant_par_id($_GET['id']);\n   require 'templates/details_etudiant_layout.php';\n  }\n\n\n  function insertion_action($prenom,$nom,$classe,$note)\n  {\n   $prenom = $_GET['prenom'] ;\n   $nom = $_GET['nom'] ;\n   $classe = $_GET['classe'] ;\n   $note = $_GET['note'] ;\n   require 'templates/insertion_etudiant_layout.php';\n\n   \n  }\n\n  function modification_action($id,$prenom,$nom,$classe,$note)\n  {\n   $id = $_GET['id'];\n   $prenom = $_GET['prenom'];\n   $nom = $_GET['nom'] ;\n   $classe = $_GET['classe'] ;\n   $note = $_GET['note'] ;\n   require 'templates/modification_etudiant_layout.php';\n  }\n\n  function suppression_action($id)\n  {\n   $id=$_GET['id'];\n   require 'templates/supprimer_etudiant_layout.php';\n  }\n?>\n\n\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Explication du code :"})}),"\n",(0,t.jsx)(n.p,{children:"Nous avons regroup\xe9 tous nos contr\xf4leurs dans des fonctions  dans ce contr\xf4leur central notre routeur avec leurs diff\xe9rents param\xe8tres"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"2.\tCr\xe9ation du fichier index.php"})}),"\n",(0,t.jsx)(n.p,{children:"Maintenant on cr\xe9e notre fichier index.php dans lequel nous allons rediriger nos diff\xe9rentes routes."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"nano index.php\n\n"})}),"\n",(0,t.jsx)(n.p,{children:"et on met le contenu"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"\n<?php\n  // index.php\n  // On charge les modeles et les controleurs\n  require_once 'modele.php';\n  require_once 'controllers.php';\n  // gestion des routes\n  $uri = parse_url($_SERVER['REQUEST_URI'], PHP_URL_PATH);\n\n  if ('/projets/php_mvc_pro_template/index.php' == $uri)\n    {\n        lecture_action();\n    }\n\n  \n  elseif ('/projets/php_mvc_pro_template/index.php/detail' == $uri && isset($_GET['id']))\n    {\n        detail_action($_GET['id']);\n    }\n\n  elseif ('/projets/php_mvc_pro_template/index.php/insert' == $uri &&  isset($_GET['prenom']) && isset($_GET['nom']) && isset($_GET['classe']) && isset($_GET['note']))\n    {\n        insertion_action($_GET['prenom'], $_GET['nom'],$_GET['classe'],$_GET['note']);\n    }\n\n  elseif ('/projets/php_mvc_pro_template/index.php/update' == $uri && isset($_GET['id']) && isset($_GET['prenom']) && isset($_GET['nom']) && isset($_GET['classe']) && isset($_GET['note']))\n    {\n        modification_action($_GET['id'],$_GET['prenom'], $_GET['nom'],$_GET['classe'],$_GET['note']);\n    }\n\n  elseif ('/projets/php_mvc_pro_template/index.php/supprimer' == $uri && isset($_GET['id']))\n    {\n        suppression_action($_GET['id']);\n    }\n  else\n    {\n        header('Status: 404 Not Found');\n        echo '<html><body><h1>Page Not Found</h1></body></html>';\n    }\n  ?>\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Explication du code :"})}),"\n",(0,t.jsx)(n.p,{children:"Nous avons dans ce fichier fait appel d\u2019abord \xe0 notre mod\xe8le g\xe9n\xe9ral et le contr\xf4leur frontal ensuite d\xe9clar\xe9 une variable globale qui retourne le r\xe9pertoire personnel de travail ou les fichiers de contr\xf4le et le mod\xe8le se trouvent. Enfin on a redirig\xe9 nos diff\xe9rentes routes selon les mots cl\xe9s donn\xe9s qui ex\xe9cutent une fonction sp\xe9cifique mais on a mis l\u2019action de lecture des \xe9tudiants par d\xe9faut par rapport aux autres actions."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"$uri : retourne une variable d'environnement global qui designe le repertoire du document root et dans notre cas ici c'est \"/projets/php_mvc_pro_template\" et comme on a mis l'action de lister les etudiants avec l'appel de notre index.php quand l'utilisateur execute $uri+index.php on le redirige sur la liste des etudiants."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"3. Test de bon fonctionnement"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"les differentes routes nous donnent:"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"1.  Lister les etudiants"})}),"\n",(0,t.jsx)(n.p,{children:"Pour lister les \xe9tudiants, action par d\xe9faut on met l\u2019url suivante"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"\nhttp://localhost/projets/php_mvc_pro_template/index.php\n"})}),"\n","\n",(0,t.jsx)("img",{src:o,alt:"Image Php",style:{width:900}}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"Figure: Liste des etudiants"})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"2. Pour voir les d\xe9tails sur un \xe9tudiant"})}),"\n",(0,t.jsx)(n.p,{children:"On voit pour l'etudiant avec ID=1."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"\nhttp://localhost/projets/php_mvc_pro_template/index.php/detail?id=1\n"})}),"\n","\n",(0,t.jsx)("img",{src:l,alt:"Image Php",style:{width:900}}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"Figure: Affichage des details sur l'etudiant"})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"3. Pour modifier un \xe9tudiant"})}),"\n",(0,t.jsx)(n.p,{children:"On va modifier les information de l'etudiant avec ID=23"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"\nlocalhost/projets/php_mvc_pro_template/index.php/update?id=23&prenom=Exodia&nom=Ngam&classe=licence1&note=14\n"})}),"\n","\n",(0,t.jsx)("img",{src:a,alt:"Image Php",style:{width:900}}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"Figure: Modifications reussies"})})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"on liste le tableau"}),"\n"]}),"\n","\n",(0,t.jsx)("img",{src:d,alt:"Image Php",style:{width:900}}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"Figure: liste des etudiants"})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"4 \tPour ins\xe9rer un \xe9tudiant"})}),"\n",(0,t.jsx)(n.p,{children:"On va inserer l'etudiant avec les informations suivantes:"}),"\n",(0,t.jsx)(n.p,{children:"Prenom=Soulemane"}),"\n",(0,t.jsx)(n.p,{children:"Nom=Mbaye"}),"\n",(0,t.jsx)(n.p,{children:"classe=licence2"}),"\n",(0,t.jsx)(n.p,{children:"note=17"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"\nlocalhost/projets/php_mvc_pro_template/index.php/insert?prenom=Soulemane&nom=Mbaye&classe=licence2&note=17\n"})}),"\n","\n",(0,t.jsx)("img",{src:c,alt:"Image Php",style:{width:900}}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"Figure: Enregistrement reussi"})})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"on liste le tableau"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"http://localhost/projets/php_mvc_pro_template/index.php\n"})}),"\n","\n",(0,t.jsx)("img",{src:p,alt:"Image Php",style:{width:900}}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"Figure: Enregistrement reussi"})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"5 Supprimer un etudiant"})}),"\n",(0,t.jsx)(n.p,{children:"On va supprimer l'etudiant avec ID=13"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"\nhttp://localhost/projets/php_mvc_pro_template/index.php/supprimer?id=13\n"})}),"\n","\n",(0,t.jsx)("img",{src:u,alt:"Image Php",style:{width:900}}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"Figure: Suppression reussie"})})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"On liste le tableau"}),"\n"]}),"\n","\n",(0,t.jsx)("img",{src:h,alt:"Image Php",style:{width:900}}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"Figure: liste des etudiants"})})})]})}function v(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(f,{...e})}):f(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var t=s(6540);const i={},r=t.createContext(i);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);