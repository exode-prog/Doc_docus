<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Tutoriel-Notions-en-PHP/template_buff_layout" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">C. TEMPLATE, BUFFERISATION, LAYOUT EN PHP | EXODE-PROG</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://exode-prog.github.io/Doc_docus/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://exode-prog.github.io/Doc_docus/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://exode-prog.github.io/Doc_docus/docs/Tutoriel-Notions-en-PHP/template_buff_layout"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="C. TEMPLATE, BUFFERISATION, LAYOUT EN PHP | EXODE-PROG"><meta data-rh="true" name="description" content="a. Presentation des  templates"><meta data-rh="true" property="og:description" content="a. Presentation des  templates"><link data-rh="true" rel="icon" href="/Doc_docus/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://exode-prog.github.io/Doc_docus/docs/Tutoriel-Notions-en-PHP/template_buff_layout"><link data-rh="true" rel="alternate" href="https://exode-prog.github.io/Doc_docus/docs/Tutoriel-Notions-en-PHP/template_buff_layout" hreflang="en"><link data-rh="true" rel="alternate" href="https://exode-prog.github.io/Doc_docus/docs/Tutoriel-Notions-en-PHP/template_buff_layout" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/Doc_docus/blog/rss.xml" title="EXODE-PROG RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Doc_docus/blog/atom.xml" title="EXODE-PROG Atom Feed"><link rel="stylesheet" href="/Doc_docus/assets/css/styles.3b056174.css">
<script src="/Doc_docus/assets/js/runtime~main.bc3d09f5.js" defer="defer"></script>
<script src="/Doc_docus/assets/js/main.e8736828.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Doc_docus/"><div class="navbar__logo"><img src="/Doc_docus/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Doc_docus/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Mon Site Web</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Doc_docus/docs/intro">Les Tutoriels</a><a class="navbar__item navbar__link" href="/Doc_docus/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/exode-prog/Doc_docus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Doc_docus/docs/intro">PROGRAMMATION EN PHP</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/Doc_docus/docs/category/les-notions-en-php">LES NOTIONS EN PHP</a><button aria-label="Collapse sidebar category &#x27;LES NOTIONS EN PHP&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Doc_docus/docs/Tutoriel-Notions-en-PHP/Introduction_php">INTRODUCTION</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Doc_docus/docs/Tutoriel-Notions-en-PHP/modele_mvc_en_php">A. LE MODELE MVC EN PHP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Doc_docus/docs/Tutoriel-Notions-en-PHP/reecriture_url_php">B. LA REECRITURE D’URL DANS UN PROGRAMME EN PHP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Doc_docus/docs/Tutoriel-Notions-en-PHP/template_buff_layout">C. TEMPLATE, BUFFERISATION, LAYOUT EN PHP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Doc_docus/docs/Tutoriel-Notions-en-PHP/routing_mvc_php">D. LE ROUTING SUR LE MODELE EN MVC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Doc_docus/docs/Tutoriel-Notions-en-PHP/conclusion">CONCLUSION</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Doc_docus/docs/category/tutorial---basics">Tutorial - Basics</a><button aria-label="Expand sidebar category &#x27;Tutorial - Basics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Doc_docus/docs/category/tutorial---extras">Tutorial - Extras</a><button aria-label="Expand sidebar category &#x27;Tutorial - Extras&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Doc_docus/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/Doc_docus/docs/category/les-notions-en-php"><span itemprop="name">LES NOTIONS EN PHP</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">C. TEMPLATE, BUFFERISATION, LAYOUT EN PHP</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>C. TEMPLATE, BUFFERISATION, LAYOUT EN PHP</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="a-presentation-des--templates">a. Presentation des  templates<a href="#a-presentation-des--templates" class="hash-link" aria-label="Direct link to a. Presentation des  templates" title="Direct link to a. Presentation des  templates">​</a></h2>
<p>Template terme anglais et que veut dire gabarit est une notion très importante utilisée en programmation. Son principe est de séparer le code PHP de la mise en page HTML ; Le code PHP dans un fichier, la mise en page contenant les balises HTML dans un autre fichier. On se retrouve alors avec, d’un côté, le script qui fait tout ce qu’il a à faire (ex: récupération de données dans une base de données, traitement…), et d’un autre côté, la mise en page avec des zones prédéfinies où seront placées les données générées par le script. Cette pratique est beaucoup utilisée dans une architecture MVC (model view controller) et le Template est orienté à la partie de la présentation la partie vue qui est le view.
L’avantage évident est de pouvoir travailler uniquement sur la mise en page, sans modifier quoi que ce soit dans le code PHP et inversement, ou de diviser efficacement le travail à faire, le programmeur s’occupant uniquement de la partie Scripting, et le designeur, de la mise en page.</p>
<!-- -->
<img src="/Doc_docus/assets/images/template-475ba77a412e61a8a0e1f43111e3ab92.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: Architecture d&#x27;un template</strong></em></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="b-la-bufferisation-avec-ob_start">b. La bufferisation avec ob_start<a href="#b-la-bufferisation-avec-ob_start" class="hash-link" aria-label="Direct link to b. La bufferisation avec ob_start" title="Direct link to b. La bufferisation avec ob_start">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="i-présentation">i. Présentation<a href="#i-présentation" class="hash-link" aria-label="Direct link to i. Présentation" title="Direct link to i. Présentation">​</a></h3>
<p>Cette fonction ob_start () active la mise en mémoire tampon de la sortie. Lorsque la mise en mémoire tampon est active, aucune sortie n&#x27;est envoyée depuis le script ; au lieu de cela, la sortie est stockée dans une mémoire tampon interne. Elle joue un rôle de conteneur qu’on peut stocker des données à l’intérieur et l’utiliser et le détruire. Cette notion est importante en programmation et s’implémente dans la partie vue du modèle MVC.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ii-fonctionnement-de-ob_start-">ii. Fonctionnement de Ob_start ()<a href="#ii-fonctionnement-de-ob_start-" class="hash-link" aria-label="Direct link to ii. Fonctionnement de Ob_start ()" title="Direct link to ii. Fonctionnement de Ob_start ()">​</a></h3>
<ul>
<li>ob_start() : Cette fonction démarre la bufferisation. À partir de ce moment, toute sortie générée par le script est stockée dans le tampon.</li>
<li>On peut également   ensuite utiliser d&#x27;autres fonctions pour gérer le contenu du tampon :</li>
<li>ob_get_contents() : Récupère le contenu actuel du tampon sans l&#x27;effacer.</li>
<li>ob_end_flush() : Envoie le contenu du tampon au navigateur et désactive la bufferisation.</li>
<li>ob_clean() : Efface le contenu du tampon sans l&#x27;envoyer.</li>
<li>Ob_get_clean() : Obtiens le contenu du tampon de sortie actif et désactive-le</li>
</ul>
<p>Pour connaitre d’autres fonctions de la bufférisation on peut consulter le lien suivant :  <a href="https://www.php.net/manual/fr/function.ob-get-clean.php" target="_blank" rel="noopener noreferrer">https://www.php.net/manual/fr/function.ob-get-clean.php</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="iii--avantages-de-la-bufferisation">iii.  Avantages de la Bufferisation<a href="#iii--avantages-de-la-bufferisation" class="hash-link" aria-label="Direct link to iii.  Avantages de la Bufferisation" title="Direct link to iii.  Avantages de la Bufferisation">​</a></h3>
<ul>
<li><strong>Contrôle sur la Sortie</strong>
Permet de modifier ou d&#x27;inspecter la sortie avant qu&#x27;elle ne soit envoyée. Cela peut être utile pour ajouter des éléments à la fin ou pour effectuer des remplacements.
• Éviter les Erreurs &quot;Headers Already Sent&quot;
Éviter les erreurs liées à l&#x27;envoi prématuré des en-têtes HTTP, car rien n&#x27;est envoyé tant que vous n&#x27;appelez pas ob_end_flush().</li>
</ul>
<p>• <strong>Optimisation des Performances</strong> :
La bufferisation peut améliorer les performances en permettant d&#x27;envoyer des données en une seule fois plutôt qu&#x27;en plusieurs petits morceaux, réduisant ainsi le nombre de requêtes HTTP.</p>
<p>• <strong>Chargement Asynchrone</strong> :
En utilisant des techniques comme l&#x27;envoi d&#x27;en-têtes ou de scripts avant que le corps principal ne soit envoyé, vous pouvez permettre aux navigateurs de commencer à charger des ressources externes pendant que le script s&#x27;exécute.</p>
<p>• <strong>Facilité d&#x27;Implémentation</strong> :
La mise en œuvre est simple grâce aux fonctions intégrées comme ob_start(), ce qui permet une intégration facile dans des projets existants.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="iv--exemple-typique-dune-bufférisassion">iv.  Exemple typique d’une bufférisassion<a href="#iv--exemple-typique-dune-bufférisassion" class="hash-link" aria-label="Direct link to iv.  Exemple typique d’une bufférisassion" title="Direct link to iv.  Exemple typique d’une bufférisassion">​</a></h3>
<p>Nous allons mettre en place un programme un programme qui nus permet de voir le contenu des pages avec l’utilisation des contenus des variables différentes sur les différentes pages.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="les-etapes-a-suivre">Les etapes a suivre<a href="#les-etapes-a-suivre" class="hash-link" aria-label="Direct link to Les etapes a suivre" title="Direct link to Les etapes a suivre">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="a-creer-un-repertoire-de-travail">a. Creer un repertoire de travail<a href="#a-creer-un-repertoire-de-travail" class="hash-link" aria-label="Direct link to a. Creer un repertoire de travail" title="Direct link to a. Creer un repertoire de travail">​</a></h5>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="b-creer-trois-fichiers">b. Creer trois fichiers<a href="#b-creer-trois-fichiers" class="hash-link" aria-label="Direct link to b. Creer trois fichiers" title="Direct link to b. Creer trois fichiers">​</a></h5>
<p>Mise en oeuvre</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="a-creer-un-repertoire-de-travail-1">a. Creer un repertoire de travail<a href="#a-creer-un-repertoire-de-travail-1" class="hash-link" aria-label="Direct link to a. Creer un repertoire de travail" title="Direct link to a. Creer un repertoire de travail">​</a></h5>
<p>On doit creer notre repertoire a la racine principale du projet dans le repertoire projet.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir tp_bufferisation</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->
<img src="/Doc_docus/assets/images/listed-fd85b1bb6b0ab33bdc986ce057141f00.png" alt="Image Php" style="width:900px">
<p><em><strong>figure: liste des repertoires</strong></em></p>
<p>Se placer dans le repertoire</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd tp_bufferisation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="b-creer-trois-fichiers-1">b. Creer trois fichiers<a href="#b-creer-trois-fichiers-1" class="hash-link" aria-label="Direct link to b. Creer trois fichiers" title="Direct link to b. Creer trois fichiers">​</a></h5>
<p>Le fichier BaseLayout.php es le fichier central ou on déclare nos différentes variables et qui apres vont prendre les valeurs suivant les informations du chaque site.</p>
<p><strong>1. Creation du 1er fichier base.php</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nano base.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Et on met le contenu suivant:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!DOCTYPE html&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;html&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;title&gt;&lt;?php echo $title ?&gt;&lt;/title&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;?php echo $content ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/html&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explication du code</strong>
Dans ce code nous avons fait appel à nos deux variables $title et $content qui seront utilisées dans les pages des sites en s’adaptant à leurs contenus quand on va inclure le fichier de base qui est base.php.</p>
<p><strong>2. Creation des deux autres fichiers</strong>
On crée maintenant les deux sites avec deux variables créées   title et content, inclure base.php et utilisation des deux fonctions suivantes:</p>
<ul>
<li>
<p>Ob_star () : démarrer   la bufferisation</p>
</li>
<li>
<p>Ob_get_clean : Récupérer le contenu et le désactive</p>
</li>
<li>
<p><strong>Creation du 2eme fichier site1.php</strong></p>
</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nano  site1.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>avec du contenu suivant:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $title = &#x27;Je suis le site 1&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ob_start();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;h1&gt;Apprentissage de la bufferisation&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;h2&gt;Les avantages de la bufferisation&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;ul&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;li&gt;Contrôle sur la Sortie &lt;/li&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;li&gt;Éviter les Erreurs &quot;Headers Already Sent&quot;&lt;/li&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;li&gt; Optimisation des Performances &lt;/li&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;li&gt; Chargement Asynchrone &lt;/li&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;li&gt;Facilité d&#x27;Implémentation &lt;/li&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/ul&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $content = ob_get_clean();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  include &#x27;base.php&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>Creation du 3eme fichier site2.php</strong></li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nano site2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>et on met le contenu suivant:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $title = &#x27;Je suis le site 2&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ob_start();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;h1&gt;Apprentissage de la bufferisation&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;h2&gt;Les fonctions  de la bufferisation&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;ul&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;li&gt;ob_start() : Cette fonction démarre la bufferisation..&lt;/li&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;li&gt;On peut également   ensuite utiliser d&#x27;autres fonctions pour gérer le contenu du tampon :&lt;li&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;li&gt;ob_get_contents() : Récupère le contenu actuel du tampon sans l&#x27;effacer.&lt;/li&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;li&gt;ob_end_flush() : Envoie le contenu du tampon au navigateur et désactive la bufferisation.&lt;/li&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;li&gt;ob_clean() : Efface le contenu du tampon sans l&#x27;envoyer.&lt;/li&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;li&gt;Ob_get_clean() : Obtiens le contenu du tampon de sortie actif et désactive-le&lt;/li&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/ul&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $content = ob_get_clean();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  include &#x27;base.php&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Test sur le navigateur</strong></p>
<p>Apres la mise en place on peut test les deux pages.</p>
<ol>
<li>La page site1 avec</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://localhost/projets/tp_bufferisation/site1.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>La page site2 avec :</li>
</ol>
<div class="language-nash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-nash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://localhost/projets/tp_bufferisation/site2.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->
<img src="/Doc_docus/assets/images/buf1-dd1d94d2377f1e447aaa589d1602d91b.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: Test reussi avec le site1</strong></em></p>
<!-- -->
<img src="/Doc_docus/assets/images/buf2-0b97c7317ef915e54918cfa76907607e.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: Test reussi avec le site2</strong></em></p>
<p><strong>Nous avons remarque que la notion de bufferisation est importante dans le cadre de dynamisme d’un site.</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="c-template-et-layout">c. Template et layout<a href="#c-template-et-layout" class="hash-link" aria-label="Direct link to c. Template et layout" title="Direct link to c. Template et layout">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="objectif">Objectif<a href="#objectif" class="hash-link" aria-label="Direct link to Objectif" title="Direct link to Objectif">​</a></h3>
<p>Mettre en place un système avec Modèle MVC et avec Template dans le but de séparer les données et donner une bonne structure au programme.</p>
<p><strong>Les étapes à suivre :</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1--création-du-répertoire-de-travail-php_mvc_pro_template">1.  Création du répertoire de travail php_mvc_pro_template<a href="#1--création-du-répertoire-de-travail-php_mvc_pro_template" class="hash-link" aria-label="Direct link to 1.  Création du répertoire de travail php_mvc_pro_template" title="Direct link to 1.  Création du répertoire de travail php_mvc_pro_template">​</a></h3>
<p>On doit creer notre repertoire de travail a la racine de des projets avec la commande:</p>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">root@Chirst-Ma:/var/www/html/projets#</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir  php_mvc_pro_template</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Se deplacer dans le repertoire</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd  php_mvc_pro_template</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2--programme-en-un-seul-code-des-étudiants">2.  Programme en un seul code des étudiants<a href="#2--programme-en-un-seul-code-des-étudiants" class="hash-link" aria-label="Direct link to 2.  Programme en un seul code des étudiants" title="Direct link to 2.  Programme en un seul code des étudiants">​</a></h3>
<p>Dans ce programme nous continuons toujours à utiliser la logique de la base de données « école » et la table « étudiants » traitée précédemment et l’objectif est de pouvoir mettre l’ensemble de tout notre programme dans un seul code et l’exécuter. Les étapes à suivre sont :</p>
<p><strong>a.  Créer un fichier « fichier_complet.php</strong></p>
<p>Ainsi on crée et édite notre fichier « fichier_complet.php » avec la commande « nano fichier_complet.php et on met son contenu de la connexion a la base de données jusqu’à l’affichage.</p>
<p>On cree notre fichier avec :</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nano fichier_complet.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>et on met le contenu suivant:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  define(&#x27;dsn&#x27;, &#x27;mysql:host=localhost;dbname=ecole&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  define(&#x27;user&#x27;, &#x27;mamadou&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  define(&#x27;password&#x27;, &#x27;passer&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  try{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $connexion=new PDO(dsn,user,password);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  catch(PDOException $e){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  printf(&quot;Echec connexion : %s\n&quot;, $e-&gt;getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  exit();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $sql=&quot;select * from etudiants&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if(!$connexion-&gt;query($sql))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  echo &quot;Probleme de connexion a la table etudiants&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo $titre=&quot;&lt;h2&gt;La liste des noms et prenoms des etudiants&lt;/h2&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo &quot;&lt;strong&gt; NOM &quot;.&quot;  &quot;.&quot;PRENOM &lt;/strong&gt;&quot;.&quot;&lt;br&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach ($connexion-&gt;query($sql) as $row){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo $row[&#x27;nom&#x27;].&quot;  &quot;.$row[&#x27;prenom&#x27;].&quot;&lt;br&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>b.  Tester le programme</strong></p>
<p>On va sur le navigateur et on met l’adresse</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://localhost/projets/php_mvc_pro_template/fichier_complet.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->
<img src="/Doc_docus/assets/images/aff-28e161d1066c41de497e14da24772b68.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: Test reussi</strong></em></p>
<p>Nous venons de tester notre page avec un code tout mélangé même si cela fonctionne trop bien il existe quelques défauts dans cette pratique comme :</p>
<ul>
<li><strong>Réutilisabilité du code très réduite</strong></li>
</ul>
<p>Avec ce code ce n’est pas évident de le réutiliser du fait de son caractère a tout mélanger ensemble les différentes parties du code car cela engendra des confits</p>
<ul>
<li><strong>Complexe à comprendre pour un débutant</strong></li>
</ul>
<p>Pour un programmeur débutant le code lui sera complexe car il voit du SQL PHP html tous mélangés ainsi il ne pourra pas mieux gérer le code.
Ainsi pour remédier à tous ces petits soucis que la notion d’implémentation de Template est importante car elle nous permettra de séparer le code en petites parties dans le but de séparer du code html par rapport au reste du code et le mettre dans un fichier a part.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3--programme-crud-avec-prise-en-compte-de-template-et-de-layout">3.  Programme CRUD avec prise en compte de Template et de layout<a href="#3--programme-crud-avec-prise-en-compte-de-template-et-de-layout" class="hash-link" aria-label="Direct link to 3.  Programme CRUD avec prise en compte de Template et de layout" title="Direct link to 3.  Programme CRUD avec prise en compte de Template et de layout">​</a></h3>
<p>D’apres ce qui précède nous allons appliquer les notions de Template et de layout dans nos programmes suivants.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="quest-ce-quun-layout-">Qu’est-ce qu’un layout ?<a href="#quest-ce-quun-layout-" class="hash-link" aria-label="Direct link to Qu’est-ce qu’un layout ?" title="Direct link to Qu’est-ce qu’un layout ?">​</a></h3>
<p>Un <strong>layout</strong> est essentiellement une structure de base pour les pages web, qui permet de maintenir une cohérence et une uniformité dans la présentation des différentes pages d’un site. Voici un guide détaillé avec des exemples concrets pour créer un layout en PHP. Layout d’une manière générale signifie mise en page. Elle fait référence à la disposition et à l’organisation des éléments sur une page web ou un document.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="différence-entre-template-et-layout-en-php">Différence entre Template et layout en PHP<a href="#différence-entre-template-et-layout-en-php" class="hash-link" aria-label="Direct link to Différence entre Template et layout en PHP" title="Direct link to Différence entre Template et layout en PHP">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="template">Template<a href="#template" class="hash-link" aria-label="Direct link to Template" title="Direct link to Template">​</a></h4>
<p><strong>Définition :</strong> Un Template est un fichier qui contient le code HTML et peut inclure des balises PHP pour afficher dynamiquement des données. Il est généralement utilisé pour définir la structure d&#x27;une page ou d&#x27;une section de page.</p>
<p><strong>Fonctionnalité :</strong>  Les templates sont souvent réutilisables et permettent d&#x27;afficher du contenu variable tout en maintenant une apparence cohérente. Par exemple, un Template peut contenir l&#x27;en-tête, le pied de page et des sections pour le contenu principal</p>
<p><strong>Exemple :</strong> Un fichier liste_etudiants.php qui définit comment afficher une liste d’étudiants avec son titre, son contenu …</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="layout">Layout<a href="#layout" class="hash-link" aria-label="Direct link to Layout" title="Direct link to Layout">​</a></h4>
<p><strong>Définition :</strong> Un layout est une configuration qui détermine la disposition des éléments sur une page. Il définit les régions où les templates peuvent être insérés, comme les barres latérales, les en-têtes, et les pieds de page.</p>
<p><strong>Fonctionnalité :</strong> Les layouts sont utilisés pour organiser la structure globale d&#x27;une page ou d&#x27;un site. Par exemple, un layout peut spécifier que la barre de navigation doit être en haut de la page et que le contenu principal doit être à gauche.</p>
<p><strong>Exemple :</strong>  Un fichier layout.php qui définit la structure générale de toutes les pages d&#x27;un site, incluant les zones pour différents templates.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="a-programme-simple-réduction-de-code-avec-template">a. Programme simple réduction de code avec Template<a href="#a-programme-simple-réduction-de-code-avec-template" class="hash-link" aria-label="Direct link to a. Programme simple réduction de code avec Template" title="Direct link to a. Programme simple réduction de code avec Template">​</a></h4>
<p>Notre programme précède dans lequel on a tout mis sera diviser en deux parties la première concerne la connexion à la base de données et récupérations des données et la dernière partie consiste à mettre un code html dans un Template que nous allons créer.</p>
<p><strong>Les étapes à suivre</strong></p>
<p><strong>1.  Créer un fichier « reduction_code.php »</strong>
<strong>2.  Créer un répertoire Template</strong>
<strong>3.  Créer le fichier liste_etudiants dans le répertoire Template</strong>
<strong>4.  Tester le programme</strong></p>
<p>Ainsi on passe à la réalisation du programme</p>
<p><strong>1.  Créer un fichier « reduction_code.php »</strong>
On execute la commande suivante:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> nano reduction_code.php </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>et on met le code suivant comme il se doit</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  define(&#x27;dsn&#x27;, &#x27;mysql:host=localhost;dbname=ecole&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  define(&#x27;user&#x27;, &#x27;mamadou&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  define(&#x27;password&#x27;, &#x27;passer&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  try{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $connexion=new PDO(dsn,user,password);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  catch(PDOException $e){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  printf(&quot;Echec connexion : %s\n&quot;, $e-&gt;getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  exit();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $sql=&quot;select * from etudiants&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $stmt-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $result=$stmt-&gt;fetchALL(PDO::FETCH_OBJ);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if(!$connexion-&gt;prepare($sql))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       echo &quot;Erreur de connexion a la table etudiants&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       foreach ($result as $row){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           $etudiants[]=$row;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       require_once &quot;templates/liste_etudiants.php&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explication du code :</strong></p>
<p>D’abord on a défini des constantes avec définie pour la connexion avec la base de données avec un système de retour d’erreur au cas d’échec (try et catch). Ensuite on a récupéré les éléments de notre tableau avec la requête SQL préparée pour question de sécurité des données. Enfin après une condition de bonne connexion on a récupéré les éléments de notre table étudiants sous forme de tableau et on l’a mis dans une variable étudiants. C’est après tout ce processus que nous faisons appel a notre Template qu’on va créer tout de suite pour qu’il affiche les données de notre tableau dans un fichier html qu’on va créer.</p>
<p><strong>2.  Créer un répertoire Template</strong></p>
<p>On va maintenant  notre Template :</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir templates</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Se deplacer dans le Template</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd templates</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>3.  Créer le fichier liste_etudiants dans le répertoire Template</strong></p>
<p>On peut maintenant creer le fichier</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> nano liste_etudiants.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explication du code :</strong></p>
<p>Ce code constitue notre Template car il n’y a que la partie de la présentation ici, il sera implémenté à la fin du fichier reduction_code.php grâce au require_once pour pouvoir afficher les données de notre table étudiants.</p>
<p><strong>4.  Tester le programme</strong></p>
<p>Maintenant on peut tester notre programme en appelant le fichier reduction_code.php</p>
<!-- -->
<img src="/Doc_docus/assets/images/awa-2078ac6a42e2bf2cee67b2f571867f2e.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: Test reussi</strong></em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="b-programme-en-mvc-avec-prise-en-compte-de-template-de-layout-avec-une-action-de-lister-les-étudiants-read">b. Programme en MVC avec prise en compte de Template de layout avec une action de lister les étudiants (READ)<a href="#b-programme-en-mvc-avec-prise-en-compte-de-template-de-layout-avec-une-action-de-lister-les-étudiants-read" class="hash-link" aria-label="Direct link to b. Programme en MVC avec prise en compte de Template de layout avec une action de lister les étudiants (READ)" title="Direct link to b. Programme en MVC avec prise en compte de Template de layout avec une action de lister les étudiants (READ)">​</a></h4>
<p>Dans ce programme l’objectif est de mettre en place le modèle MVC avec un Template pour une bonne visibilité sachant que le Template e trouve à la partie vue donc est la partie vue du programme. Nous devons comprendre que pour chaque fonction dans un programme on a :</p>
<p><strong>1e fonction = un modèle = un contrôleur=un template</strong></p>
<p><strong>Les étapes à suivre :</strong></p>
<ol>
<li>
<p>Création du modèle</p>
</li>
<li>
<p>Mise en place du Template</p>
</li>
<li>
<p>Mise en place d’un contrôleur</p>
</li>
<li>
<p>Test</p>
</li>
<li>
<p>Créer un layout et l’appliquer sur le programme</p>
</li>
</ol>
<ul>
<li>Créer un fichier base_layout.php</li>
<li>Création d’un fichierTemplate pour appliquer le layout</li>
</ul>
<ol start="6">
<li>Test</li>
</ol>
<p>Ainsi nous passons à la pratique</p>
<p><strong>1.  Création du modèle</strong></p>
<p>Pour creer le modele on execute la commande suivante:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nano modele.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>et on met le contenu suivant:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function connect_db()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      define(&#x27;dsn&#x27;, &#x27;mysql:host=localhost;dbname=ecole&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      define(&#x27;user&#x27;, &#x27;mamadou&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      define(&#x27;password&#x27;, &#x27;passer&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=new PDO(dsn,user,password);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  catch(PDOException $e)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  printf(&quot;Echec connexion : %s\n&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $e-&gt;getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  exit();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return $connexion;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function lister_les_etudiants()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $amis=Array();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $sql=&quot;select * from etudiants&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $result=$stmt-&gt;fetchALL(PDO::FETCH_OBJ);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      foreach ($result  as $row)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          $etudiants[]=$row;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return $etudiants;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explication du code:</strong></p>
<p>Dans ce code nous avons déclaré deux fonctions la première pour se connecter a base de données et la dernière pour récupérer les données afin que le Template les charge et les affiche. Et dans un programme en modèle MVC Template il est bon de ne pas fermer la base PHP finale { ?&gt;}  cela doit rester ouvert signifiant que le modèle actuel est un fichier intermédiaire complémentaire a un autre (Template).</p>
<ol start="2">
<li>Mise en place du Template</li>
</ol>
<p>Dans le répertoire templates on crée notre fichier templates/liste_etudiants_layout.php</p>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">root@Chirst-Ma:/var/www/html/projets/php_mvc_pro_template# </div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nano templates/liste_etudiants_layout.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Et on ajoute le code suivant:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;html&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;title&gt;Les etudiants &lt;/title&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;la liste des etudiants&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;table border=&#x27;1&#x27;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;th&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;PRENOM&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;NOM&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;CLASSE&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;NOTE&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/th&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       &lt;?php foreach ($etudiants as $etudiant): ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;tbody&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;&lt;?php echo $etudiant-&gt;prenom ?&gt;&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;&lt;?php echo $etudiant-&gt;nom ?&gt;&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;&lt;?php echo $etudiant-&gt;classe ?&gt;&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;&lt;?php echo $etudiant-&gt;note ?&gt;&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/th&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       &lt;?php endforeach; ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/tbody&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/html&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li><strong>Mise en place d’un contrôleur</strong></li>
</ol>
<p>Apres le modèle et le Template on va devoir créer un contrôleur pour pouvoir interagir entre nos différentes parties des codes précédents.
Dans le même répertoire de travail que le modèle on crée le contrôleur.</p>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">root@Chirst-Ma:/var/www/html/projets/php_mvc_pro_template#</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nano controleur_liste_etudiants.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Et on met le contenu suivant:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  require_once &#x27;modele.php&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $etudiants = lister_les_etudiants();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  require &#x27;templates/liste_etudiants.php&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explication du code :</strong></p>
<p>Dans le code de ce contrôleur on a pu insérer tout d’abord le modèle a partir duquel on a récupéré la fonction qui affiche les étudiants pour la passer au Template pour l’affichage.</p>
<ol start="4">
<li><strong>Test</strong></li>
</ol>
<p>Pour tester le programme on va aller sur un navigateur et faire appel au contrôleur</p>
<p><a href="http://localhost/projets/php_mvc_pro_template/controleur_liste_etudiants.php" target="_blank" rel="noopener noreferrer">http://localhost/projets/php_mvc_pro_template/controleur_liste_etudiants.php</a></p>
<!-- -->
<img src="/Doc_docus/assets/images/ctt-11e6f75c4d7490d98cb4ef39d63977ea.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: Test reussi</strong></em></p>
<ol start="5">
<li><strong>Création  d&#x27;un layout et l’appliquer sur le programme</strong></li>
</ol>
<ul>
<li>Créer un fichier base_layout.php</li>
</ul>
<p>Comme on l’a dit le layout permet de mieux organiser le design d’un site d’une manière à dynamiser la page. Ici nous allons créer un fichier base_layout.php qui nous permettra d’adapter facilement et dynamiquement notre Template grâce aussi à la notion de bufferisation vue précédemment.</p>
<p>Dans notre Template on crée le fichier c’est évident le layout c’est du fichier html.</p>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">root@Chirst-Ma:/var/www/html/projets/php_mvc_pro_template#</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> nano templates/base_layout.php </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>et on met le contenu suivant:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;html&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;title&gt;&lt;?php echo $title ?&gt;&lt;/title&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;?php echo $content ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/html&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explication du code :</strong></p>
<p>Dans notre code ici nous avons juste fait appel a deux variables $title et $content, ces deux variables seront créées dans notre Template /templates/liste_etudiants.php  la deuxième sera surtout récupérée grâce à la bufferisation.</p>
<ul>
<li>Création d’un fichierTemplate pour appliquer le layout</li>
</ul>
<p>Apres la création du layout on crée notre Template pour l’adaptation et l’utiliser bien-sûr la bufferisation.</p>
<p>On cree le template</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nano templates/liste_etudiants_layout.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>et on met le contenu suivant:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// templates/t-list.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $title = &#x27;Liste des etudiants&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ob_start();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;html&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;title&gt;Les etudiants &lt;/title&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;la liste des etudiants&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;table border=&#x27;1&#x27;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;th&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;PRENOM&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;NOM&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;CLASSE&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;NOTE&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/th&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       &lt;?php foreach ($etudiants as $etudiant): ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;tbody&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;&lt;?php echo $etudiant-&gt;prenom ?&gt;&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;&lt;?php echo $etudiant-&gt;nom ?&gt;&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;&lt;?php echo $etudiant-&gt;classe ?&gt;&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;&lt;?php echo $etudiant-&gt;note ?&gt;&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/th&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       &lt;?php endforeach; ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $content = ob_get_clean();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  include &#x27;base_layout.php&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/tbody&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/html&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Comme on vient de créer un nouveau Template il faut qu’on prenne cela en compte dans le contrôleur.</p>
<p>on edite le controleur</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nano controleur_liste_etudiants.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>et on met le contenu suivant</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  require_once &#x27;modele.php&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $etudiants = lister_les_etudiants();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  require &#x27;templates/liste_etudiants_layout.php&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>On a juste change le nom du Template c’est à dire liste_etudiants.php en liste_etudiants_layout.php</p></div></div>
<ol start="6">
<li><strong>Test</strong></li>
</ol>
<p>Pour le test on appelle juste notre contrôleur dans le navigateur</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://localhost/projets/php_mvc_pro_template/controleur_liste_etudiants.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->
<img src="/Doc_docus/assets/images/lt-f2c47805e475b12778d77ea447bd4a72.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: Test reussi</strong></em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="c-programme-en-mvc-avec-prise-en-compte-de-template-avec-laction-de-voir-les-détails-dun-étudiant">c. Programme en MVC avec prise en compte de Template avec l’action de voir les détails d’un étudiant<a href="#c-programme-en-mvc-avec-prise-en-compte-de-template-avec-laction-de-voir-les-détails-dun-étudiant" class="hash-link" aria-label="Direct link to c. Programme en MVC avec prise en compte de Template avec l’action de voir les détails d’un étudiant" title="Direct link to c. Programme en MVC avec prise en compte de Template avec l’action de voir les détails d’un étudiant">​</a></h4>
<p>Nous allons ajouter une autre fonction à notre programme celle de donner les détails sur un étudiant grâce à son id récupéré. Et comme la logique nous le dit,</p>
<p>1e fonction = un modèle = un contrôleur =Template ce qui nous amène à suivre les étapes suivantes :</p>
<ol>
<li>Créer un modèle (ajouter notre fonction au modèle)</li>
<li>Créer un fichier Template</li>
<li>Créer un contrôleur</li>
<li>Test</li>
</ol>
<p>Ainsi on passe à la pratique</p>
<p><strong>1.  Créer un modèle (ajouter notre fonction au modèle)</strong></p>
<p>On cree notre fonction d&#x27;ajout</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nano modele.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>la fonction a ajouter est:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">function details_etudiant_par_id($id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $sql=&quot;select  * from etudiants where id=:id&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:id&#x27;, $id, PDO::PARAM_INT);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return $stmt-&gt;fetch();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explication du code :</strong></p>
<p>Nous avons ajoute une fonction a notre modèle avec une requête préparée de sélectionner toutes les informations d’un étudiant par rapport à son id.</p>
<p>Le code final de modele.php donne:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  function connect_db()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      define(&#x27;dsn&#x27;, &#x27;mysql:host=localhost;dbname=ecole&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      define(&#x27;user&#x27;, &#x27;mamadou&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      define(&#x27;password&#x27;, &#x27;passer&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=new PDO(dsn,user,password);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  catch(PDOException $e)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  printf(&quot;Echec connexion : %s\n&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $e-&gt;getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  exit();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return $connexion;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function lister_les_etudiants()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $amis=Array();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $sql=&quot;select * from etudiants&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $result=$stmt-&gt;fetchALL(PDO::FETCH_OBJ);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      foreach ($result  as $row)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          $etudiants[]=$row;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return $etudiants;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function details_etudiant_par_id($id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $sql=&quot;select  * from etudiants where id=:id&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:id&#x27;, $id, PDO::PARAM_INT);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return $stmt-&gt;fetch();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>2.  Créer un fichier Template</strong></p>
<p>On crée maintenant notre Template sur les détails d’un étudiant</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nano templates/details_etudiant_layout.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>et on met le contenu</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (empty($person[&#x27;prenom&#x27;]) &amp;&amp; empty($person[&#x27;nom&#x27;])){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo &quot;Aucun etudiant est enregistre sur cet ID&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $title = $person[&#x27;nom&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ob_start();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;h1&gt;Details sur</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;?php echo $person[&#x27;prenom&#x27;].&#x27; &#x27;.$person[&#x27;nom&#x27;] ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         echo &#x27; vous etes sur le dossier de &#x27;.$person[&#x27;prenom&#x27;].&quot;  &quot;.$person[&#x27;nom&#x27;].&quot; &quot;.&quot;il est en classe de &quot;.$person[&#x27;classe&#x27;].&quot; &quot;.&quot;il a une note de &quot;.$person[&#x27;note&#x27;].&quot;&lt;br&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $content = ob_get_clean();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        include &#x27;base_layout.php&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explication du code :</strong></p>
<p>C’est notre Template pour détails d’un étudiant au début on a mis une condition sur la variable person(elle sera créée dans le contrôleur des détails de l’étudiant) qui récupère les données de l’étudiant que s’il récupère aucune donnée c’est-à-dire que l’ID n’existe pas(les données vides) on affiche le message de non reconnaissance de l’ID au cas contraire on affiche les informations de  l’étudiant grâce a son ID et on les affiche dans un le navigateur.</p>
<p><strong>3.  Créer un contrôleur</strong></p>
<ol start="3">
<li>Créer un contrôleur</li>
</ol>
<p>On cree notre controleur.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nano controleur_details_etudiant.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>et on met le contenu suivant:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  require_once &#x27;modele.php&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $person = details_etudiant_par_id($_GET[&#x27;id&#x27;]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  require &#x27;templates/details_etudiant_layout.php&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explication du code :</strong></p>
<p>Ceci est le contrôleur sur les détails des étudiants qui connecte d’abord a la base de données dans le modèle ensuite récupère  les informations de l’étudiant par l’ID dans la requête  dans la fonction details_etudiant_par_id de l’étudiant dans une variable appelée person pour les  passer au Template qui les affiche.</p>
<p><strong>4.  Test</strong></p>
<p>Pour test le programme sur les details d’un etudiant par rapport a son ID nous devons dans notre navigateur appeler le contrôleur détails (controleur_details_etudiant.php) avec un paramètre id</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p><strong>Il est important de  comprendre le fonctionnement des verbes du service Web comme GET,PUT,POST,PATCH,DELETE pour savoir dans quel cas utiliser tel verbe. Par exemple dans notre cas on va utiliser le verbe GET</strong>.</p></div></div>
<p>On va chercher les informations sur l&#x27;etudiant qui a ID=1</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://localhost/projets/php_mvc_pro_template/controleur_details_etudiant.php?id=1 </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->
<img src="/Doc_docus/assets/images/ex-426e6cc9b6aa91f0d3225f4a4bad4cc0.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: Test reussi</strong></em></p>
<ul>
<li><strong>Quand l’ID n’existe pas</strong></li>
</ul>
<p>On liste d&#x27;abord le tableau.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://localhost/projets/php_mvc_pro_template/controleur_liste_etudiants.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->
<img src="/Doc_docus/assets/images/lt-f2c47805e475b12778d77ea447bd4a72.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: liste des etudiants</strong></em></p>
<p>on voit que l&#x27;etudiant avec un ID=8 n&#x27;existe pas donc on essaie.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://localhost/projets/php_mvc_pro_template/controleur_details_etudiant.php?id=8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>le resultat donne</p>
<!-- -->
<img src="/Doc_docus/assets/images/no-adc982aa3f570a7c90fbbb60e75ad14a.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: Test reussi l&#x27;id n&#x27;existe pas</strong></em></p>
<p>Comme on l&#x27;a dit dans notre template que si les variables des parametres $prenom et $nom ne contiennent aucune valeur ce message s&#x27;affiche.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="d-programme-en-mvc-avec-prise-en-compte-de-template-avec-laction-dinsérer-les-étudiants-create">d. Programme en MVC avec prise en compte de Template avec l’action d’insérer les étudiants (CREATE)<a href="#d-programme-en-mvc-avec-prise-en-compte-de-template-avec-laction-dinsérer-les-étudiants-create" class="hash-link" aria-label="Direct link to d. Programme en MVC avec prise en compte de Template avec l’action d’insérer les étudiants (CREATE)" title="Direct link to d. Programme en MVC avec prise en compte de Template avec l’action d’insérer les étudiants (CREATE)">​</a></h4>
<p>Dans ce programme on va devoir mettre au point une action d’insertion des étudiants dans notre base de données.</p>
<p><strong>Les étapes à suivre :</strong></p>
<p><strong>1.  Créer un modèle (ajouter notre fonction au modèle)</strong>
<strong>2.  Créer un fichier Template</strong>
<strong>3.  Créer le contrôleur</strong>
<strong>4.  Test</strong></p>
<p>On passe a la pratique</p>
<p><strong>1.  Création du modèle (ajout de la fonction d’insertion)</strong></p>
<p>Nous allons créer notre fonction d’insertion et apres l’ajouter au modèle général modele.php</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function inserer_etudiant($prenom, $nom, $classe, $note)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $sql=&quot;insert into etudiants (prenom,nom,classe,note) values (:prenom, :nom, :classe, :note)&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:prenom&#x27;, $prenom);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:nom&#x27;, $nom);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:classe&#x27;, $classe);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:note&#x27;, $note);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return $stmt-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explication du code :</strong></p>
<p>Nous venons de créer une fonction d’insertion « inserer_etudiant » et elle prend en paramètres les différentes valeurs(prénom, nom, classe, note) que l’utilisateur lui passera  qu’elle va insérer dans la table étudiants avec une requête préparée.
Ce qui donne le modele final suivant :</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nano modele.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function connect_db()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      define(&#x27;dsn&#x27;, &#x27;mysql:host=localhost;dbname=ecole&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      define(&#x27;user&#x27;, &#x27;mamadou&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      define(&#x27;password&#x27;, &#x27;passer&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=new PDO(dsn,user,password);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  catch(PDOException $e)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  printf(&quot;Echec connexion : %s\n&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $e-&gt;getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  exit();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return $connexion;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function lister_les_etudiants()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $amis=Array();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $sql=&quot;select * from etudiants&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $result=$stmt-&gt;fetchALL(PDO::FETCH_OBJ);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      foreach ($result  as $row)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          $etudiants[]=$row;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return $etudiants;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function details_etudiant_par_id($id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $sql=&quot;select  * from etudiants where id=:id&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:id&#x27;, $id, PDO::PARAM_INT);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return $stmt-&gt;fetch();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function inserer_etudiant($prenom, $nom, $classe, $note)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $sql=&quot;insert into etudiants (prenom,nom,classe,note) values (:prenom, :nom, :classe, :note)&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:prenom&#x27;, $prenom);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:nom&#x27;, $nom);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:classe&#x27;, $classe);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:note&#x27;, $note);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return $stmt-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>2.  Créer un fichier Template</strong></p>
<p>Maintenant on va créer notre Template</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nano templates/ insertion_etudiant_layout.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>et on met le contenu suivant:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if ($prenom &amp;&amp; $nom &amp;&amp; $classe &amp;&amp; $note){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $resultat = inserer_etudiant($prenom, $nom, $classe, $note);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if($resultat){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $title = $prenom;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ob_start();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;h1&gt;Enregistrement de l&#x27;etudiant(e)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;?php echo $prenom.&#x27; &#x27;.$nom ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          echo &#x27; Insertion reussi de  &#x27;.$prenom.&quot;  &quot;.$nom.&quot; &quot;.&quot;en classe de &quot;.$classe.&quot; &quot;.&quot;avec une note de &quot;.$note.&quot;&lt;br&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $content = ob_get_clean();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          include &#x27;base_layout.php&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   echo &quot;Veuillez renseigner toutes les informations de l&#x27;étudiant&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explication du code :</strong></p>
<p>Ici sur notre page Template on a mis au début une condition pour vérifier que le programme a  recu les valeurs des paramètres et ensuite de laisser un message suite a ses paramètres au cas contraire l’utilisateur doit remplir tous les champs.</p>
<p><strong>3.  Créer un contrôleur</strong></p>
<p>On crée maintenant notre contrôleur pour l’insertion des étudiants.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nano controleur_insertion_etudiant.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>et on met le contenu suivant</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">require_once &#x27;modele.php&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$prenom = $_GET[&#x27;prenom&#x27;] ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$nom = $_GET[&#x27;nom&#x27;] ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$classe = $_GET[&#x27;classe&#x27;] ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$note = $_GET[&#x27;note&#x27;] ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">require &#x27;templates/insertion_etudiant_layout.php&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explication du code :</strong></p>
<p>Nous venons de mettre en place apres le modèle et le Template   notre contrôleur dans lequel il récupère les différentes variables de l’insertion.</p>
<p><strong>4.  Test</strong></p>
<p>Maintenant on peut passer au test d’insertion qui consiste a mettre l’url dans le navigateur suivi de « ? »  les paramètres et leurs valeurs.</p>
<p>Cette figure suivante montre comment mettre les differents parametres pour l&#x27;insertion dans le navigateur.</p>
<!-- -->
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaYAAAB3CAMAAAB/uhQPAAABFFBMVEX///9UbFuQnZTY3Nn3+Pf7/Pv/9/djd2n/AAD+///3+fju8e///Pz/XFz/7+//6Ojl6uf/UlL/x8f/mJjj7/i/y8P/7e3/0ND/Vlb/5+fy+Pzc4t7/paX/wMD/Tk7/9PT/q6v/3d3O19H/t7f/a2v/PT3/YWH/cHD/g4P/sbH/oaH/Ly/W6PX/Rkbd6/b/kJCAloivvrT/enp1jn4WQyajtKn/f39BZk5efWn/19djpdey0uuGvOG41u3G0cpuiHczWEAAORWZq5+bxub/NjbH3vBDkc47YUgjTTL/Hx+Is9xZotY2jMwALwD/GBgNPyBzst1Pc1zs1dMNfMUAcsEAbb9GjcwzVT4ANxBBX0tlhXB4p9YwSYpUAAAT5klEQVR4nO1dC0OiSht+U/EEqJGKJuYNr5UpZAaJikKYq+2m357Lbv3///G9g+62bZaYtlstzzmrATPvDPO8N2AcAFy4cOHCxX1QP3z+kqZc/Axv0ke+aJYhX6xvQRFepckhVXyOfEZkySdLOyrNqklvcgFVjHdRx+5DTDI/SkpyT5QVotHok8IEYWl7jwAlP7vu4/BM7dOhpCT5MviHJRhJJl9yg3l4bDlm7IqGs9KyRHlUdkEf9AU7f4I0/aGMqE/V7uNl24PxWHtKc0yNfFLdJr+ifVuDwaC9WhUn4KYGYUi+NGQRkkpD5im5K9ukcbxNTFKxibyUgZeTIPNdmQevLMoysDI/O1VRbuJ/WFSSGUjyvF1dlposFjGwtk+ayjJ+N6U7i+QMgye7PF5IzqtjIzz4prJElIXHT0rsNj0sULxs648sdYHlRUaWfT5ZTnqSc0my6DFY8KrkTLB3RK2MKducQjy1f5YDCBxWzuF8P7J/uE+zHMJXHVi1Ky2q1aJaR9Cs9ghtSzDbUcCNETJUG7S0Dg3iVDIgnM2fHALE91MHdYDcWSQGMdyVx5ZTZ3nw7x/W8/UYQ+RyNERrt2YUqhNTALranks016aJHW5JPS9IPVU1kCxF133qqSopOCxdxVbPhj2AvIr6etr0ql+loeQ1+sZ02uWHuq1rtPGlcaoOWV6RVIWVh1NpKEJDaXw1oKvjyKMuXKq6CIraGMrzdpNTXRryMFWloSH39aF6ipzJ2Aj0FUkx0DYk5YaShro+ZZmGqpLmp1JPYlXdNx1y7PR0qEsz8/H2erqusEk8k69csz/FcuTEjJtAfXu3UMxBMVj+FDncLm2nt/+noyjVEMYCdG47V2b1aiBcfR63rmrRQWvyuVO7upp8NqFzdTVuCcArLEVHtovl4zJkP2yn0wfxD4X0cS6+XTz5dAD14kkxfb6dPvpQzEpEboNDfzfqgHY1GYwFYTwefxZsiWvbFzdNQg/Hbmqrpk5GMan6gEcvQ9vGxCnkCKPiEUqRhh4J9GZfUlC1e1PdOxPSvfT1kqqoo/43eB+R2ITm1OMhbkexTUPHD7lnNPWtuRORPVgtScKeqHYVX09EWcwUy1KXSeyBrDDAKiwqR3JoW7YKokJhZxhZR1446A7vDNNAWhrNJDo91IlLERgUQV02WIgfZzLb4XwQIFxKHfk/xYPnIkHSpmkMLRPaV6C1cGzb5ghd3S2MTRgNgByxe9wwunAUhsCHOASDGYDgXiRytA8fUrB3kigmIFY834sXTlKRpC2YnRCahEHLbH+2UPAEP+cS1wOrcoQmRvEC50MGgGW9Cs9JEgOUTZNEVBP1inxe9hQkwDOc9lQcJ+WSMMgwhCYGaUo2mkiT6JsRb/Big1RVCFf8DSYpck/udtErAksRB4a+kBW/siD+JSJNXT05b0QhNPFfk0gToTfZS9qqg39wSBPIN9g0C92ezTdFUgtD5ZJTnlNZqsejhqBVc0CTpCO+lwltx8PHIQgXwh/82/Hg/2ytlymkqTWaj6A2qNbGptmiAakaazAa2zQJAqvyKrL+IZJIHSUgeILus1BKhQ/ihLm9s1AxjjQlbJoOZSJXql0B3GrC+NaytJo2tjRCk7YBmvRrT/MjnqCqqKjLzaGuSMnLqaIm506Psz2fr2HnFpLeRN3mh7wiQ/Kr3NBxzGUFKM+XxtBQPN3e1lT3Na4lGSUqU3UogbF1PUUtFy/VLZW72VJV4iYvSRhTtnSUgoRf8s1+YyhNdUonjeh9RUenZwxVxUD31vR8JGRzxOkN1Ut0o1jjoyH2+ltoLuAlgdNQFEVi1FPD+KhTvalC/CyFqYs/vV2vb5f9x0fpo3xku7BdKRZoHwJu/8ZIHwXz7/HnfyztCv2SIFxdDQZV7e+x9u/fFjlyNaGk6SV66Q/Fiw95dKCfjg8gXtzdOyaysp8ucpFP6YuT+Ha6WKxsZxgiWBgMxii3g9IHlvV5/O8/rfbfA+3ff6w1aWI5hpgRhmk7YRAx0ovSzDFxXWbmUHD3LP2iWSDpBAdkiyWbON4iEeLjKI4FhscNhkjE5CGJCQfJizlShZWJj/I2bdfKk3pUlxzHZIQFH1ZnWHbWCMtyMvnmZtWB4iigKBIaMdWwW5dRIsXN5ZI+evjZmVCAObkyz/dIfpLB/CHnR6vKhiCUyyT8idjsoBCt2Qm51cHE3JxHeIvkfrht5+qWRj7FLl6ooG9DxHI5IiqQR1mQC0FiByCRPce/Y7Edf+LbeFY7tnzMTDAR0aI1gYgTns7+nwc0qLsN+7IHOK+z6561wCUfOcAYkiI/cgyIYap3R5tD6TExjyA6GDyZiWW3y+erSfw1wFD4u7twH5Qoep+4fGExJ/i+4RXF5ZdY9yBYVvWp47l4PLaaRBcuXLhw8aeAe+pe6hIsv3HrYj3QPpbzGo3ex8sVU4Pv8HmnC+4o30fT61SatLwIadNZsfcDqtnrf+z3+1sr5tnf64vSx7+WMcz+5XRYuf8c9YPvPbO7bxbd/65PT697z7xI4BvD/ukTF10zeIdDh/LkvqNnMmp/aZvvDY3+6fWX57HE6qf96+u/lj4pa/Y/PvF06gcw0hfVQTHuv37juT76bcIrNYbXw+fqJj+8Pu0vjUy+y+u+7khesnf9n4NUxri+Hv5ZXo+Xofml+ezqyrCvLC0kfkGv6iiRlL+cOlAZn359ukaf3xqomUb65GfPZPHw8pelxgQSutXlAYx0SO2f9j1Li4m969Pr5drxPsB0FeNZ8y/uJJBn88mlMqje8HR42nBwccX1h6eny+dlNK9RYP/P8HpdqbHmiVKLZuAsAMvzepPvOqGJ735dXpASeX6ry69xOf52IDVWndTzAAbv+PGLx/Hl7ZajUtRfTuW9cTiYmbcEHme2NCu7YZp8fwBNvu4Grg0Zhx5vBpemlSFKkuNBexRO49IcLk0rgm3o3Q3MJJdWYsmlaUWwW8+/SLqDT3J27+c7XJpWAPmlwXpXSnM5xqq3AF2anKOrrx+TCBhp5Ru1Lk1OwerqU/OHnINqrM62S5MzMIayWtB/FOxz8kSXJmfwGhuar7B6XCJwaXIAcXO/5aRWj0sELk1Lwenqxmb++J55u9alaQk4Y/m8H+fCnA/3fbg0PQ1RbW5u0gD3PI8HLk3LwG7w4Rn7/AdULk2PgvY2NzoblVtjMo9L02PgDH3tB38/4vsv258Dl6bFYJq6vNGZbOyqPz+7B5emhWCmxmanCrD6WvJcmn4JktJ6prlpmlwswlpxieBPoOkuX/tNc57YxroNvxua2BsR2IUBhb1zOEunwUtkURxeBuB5UNX14sl3JPX1ZyG9F5q46Q3LShywXo4s3uD1sbOnQz6vF69XOK9N1RYwSe9sZTbOy+AG+iKKS3KkgD2UaleccnIToCmDInYvN9Ezcc24RPB+aNIbTaSJkYxGFwxJwm8yTYs1DElnuIbhITRsQdcwyCOJJB5u0rIhNaErGTqH2/ZNIZUDiZMNljVkmLKwtYHlJkTPBmzy/dCkoh1IXNOgvSoliZzaZckCdl6JTeqU1AV7ksgW+Cj7Aka84ZI3HEtzKlmjT0VuwCAjoRqeG5/cU1WFh0tDulm/X8mN/JDo/dA05fipxJIFTaaUxPmQDLJ4jeih2Qal6pJOcq0t4PUGWe9IlMhKk7LauAS+YRjUX42GHeZVg6Nh7vQu5Q2YgdhYXwa8K5qQF5WTJZZH6+HYOU3eBsfrjCRT9pBPwdPlCGFeVezq7FQUFfDoaEpSlyIrIwGhEJrGLDZtwAxEYzO3Mt4NTSwOCAZrn8eQOLrJ+proxhhy08cwZHR0dkQCCcfNwCPInmR0QTaaEiU15YaXwwJkQO1oT+Yed7vg5JcqS+DdQPZg493QZE+gY8gKdoy9wDE1n1JH+SjMAxifvYED77O3CaFkm6LYGy/md7j7WwGYVac2sFhD8nnrzy7A+6FpJXB3c1c5adUpqE7xbUW5DeAPpelXgN9QXCJwaXopdDcVlwhcml4I/EaXm2k6vnXr0rQKeIcL0G8cLk0rgN/UJNmV4dLkHN3FOR69eOlbZwviLnlrxjcsoYle/IIMwdHNy+iTq5m+OdyLS2MLoDpbNl9oLSw+cESAYL+B4X5RwRz/POyLaOqYOMQTu2q0tYgneuJshet27YGudcYDzVHdVwfe+NGWtBGengbVTg2EWwDLEshgRwWo1YhyClZ1LMx2EIuxcLyiHTxAjlY7UaCrVhUsMjyaBkK7VROiuBXt2IOlOaOp1oqCNYJap0pHJ4ItVrD/r9r2wVgW0lSb6QC2Z3fBoqEmWDR2m6ZrtQ4dxR20ZQrQGVQFUi+KJ4SwBMuZmr02/BSXojhGAyHaNidRpMlst00atdvsCLctVEOh3W7/K+AOjSwQro3bY0tomy1LaE06FqlTG7THt+1WlDbJ+xfaLavamljViUkUG33VwAlNArKAmjIxW1Wkqdoyb+mqBpYJ2AgSY07ag2q0BRaxeWyvpdGmOcHyE9PugjC2u6BBB7sgaAOLvp10oi1zYvMEtfFbpOnnTFwgo4pfjGkJtwISNhY0E0dNsEcYnRAOtdaeLQpvtpEpLNoZCQOGpgVhhKyAOYGRJrRqjF3QQgMaWbQ5W/fdEU2gtWkcS4Fqa9EJ3bLg1kKOOiN0t2QF+laVmljRMXSwm4Dt1QYgCFX7RQ801rGEcQ2uaGsgEO0hBYmbbpvzdezp0Rt0epT8IBO3UIlR5UbjqnBbvWqPzDlNYxK2SawY39GEgzcQJpPWSMDBsMbtgVW9BXJUE65GI5MmNE2Avr1t29YEzqwJqmPkRMAuEJoGk/YoOqeJHCTWcEeTdQvRAd2+HSFNtXm3sY8DQPXCmmbUpglgNG6P7IBmjn7BUv2bhtx8kOPVWld4Mi2ii7cwRrdOdybV8TeaxhYS0xnX7HfImOPqqI3DNkJrIq+ZwaOo3TOasLqFtiYgTUinUCX81DqDzk88Lc70JgML0BxutWiLQj3Bjdtaa06TMNGsgSUMqiOS4VQHVbNVG9dMmybS7Sp5/82AkDfRBIxugxqN9bTJrAudK816gdervSyaxoJMnBgKBpx2TTAx4Wp3aAxIlkW3bS3sTJACGiMWsQ6MEm1BMNuaRmOcwHhmkjoWRgVMI9ptkkNoNXMW0UhA0CatyU+BYTFNhFtshHSBtN6mBHOCYiezg+02pgPmpEO8V3WA0Qit1tSgLXzrNo0lhTbUSBfQ3eGfwJizLrRbk8lbo6m55r2Hb28tWQPrXt6ik33noOR1V3y01n1Bz/o0RTtrd+GVo/kwLv16uDeLlqD5KlZPdWl6EtTrYMml6Wm8EpZcmp6EtImFwTYBl6YnsOLyeC8Il6ZH4TNezxsnXJoexWoLgr4sXJoeg/R6bMml6TEwrycuEbg0LcRqC1W/PFyaFuKVseTStBCvy+OBS9MisK+OJZemh2CNF/otxxpwaXqAxutjyaXpZzx3QdCXhUvTfbCe5y41+aJwaboH3+tkyaXpPhqvkyWXph+xxrKtLwyXpjs8b2n+XwKXpu/wPXuh6peHS9MdXskD9UVwaXoTeCUzZ1y4cOHChQsXLly4cOHChQsXDxCY/3uI0OLdP9cPPSZ1s3ikj87qLjqVwOb7+IKIxAEO/IuO7O04qR+rnANkfioaP1wo8bnYDwNkF0pMO6ofquBJxjI/7gqcR+q5DXTtV2G7vAPHZJRt5ULtnA+HH9KJH4oF4Jvq4nGbFKKNpGwOt+L1ebEZXan60Y9118aHUgKKKHE20JnvphV4SJP/22foW7fJngRWzud/7GPgPLVf2KguvSyK9Sykd6Cym85DtrRbjhTLZHcqHSzuhOsQzuKZ5k/20jn/ye5xPFPZrZ8X0ic7ib3Sbja9m4PcbjASKnyqhCvBiL+SPiEqmoELR5boFMeRQzhOwEl6LweVwnG5chwhuyPHpQsy+uEUbmTP9vZygeBeMZSp71biwfRZIFEq7e7vpc9hJx2sx46LZzuVYCVQT5fPbamhYOapRl8XiuFgYjeUL0HiIhCJQHEfjmOogsUcFHdSZchHkKZsEFLH4PfnS/5gHM0odpJPFAPZC8hmA8dh/1EofALnWG2/Hto/tKVumKZwKZeORSoQT2dKeTjKh45wb+AikzmG/X1IHeBWvQwHZ9jHet1fSEHAHwqGE0V//gjPAIop/0XsIAu5dA7yldDBzPbL+5vs4wvjInR4FgzVKwClQCQPJylAlYXMbghtLHUypwmt6iiQjdQL/lIGEpHDQj4XhPwZ5A/9R5HDuh8Lnp9kIFLZr4dnUjdKUzF2cLYbq+chFgydhIk33sW9O0ESm77TlIKDvcB+pBDxlxOQqEdK4cQeYMdSdfgUOaz4s/uQO0FVOtmPEOuD/fJbyiGOdvzp3VAWremY0FTO2zShNWUudlJBiMytKV+K7cUOkKYQ2oy/nM/toSuEg4i/iNEZUgU4L2fgMBLwz/z9hbMUzCGKCX+paFtTMFO2aSIxKVD054rYG6jYNJ1ANnJegrpNU+QggNaUBvQHSNNRGINUNgI5jMMHdX+A9DFceEMuDwDNJhWMQXkPY9N+CiopsMPLQbpwkvCXg4W8TVNwN5EplEp1/1kGwsECDgGqaQVSWQxihTIkgifhSgZ2yqVg2K5cPI5vsI97MQjv7vgLe8FzwKQNaSiR3fXdchBypUKJtFkv7JVy/t1C6dBf2YHwXqEQT5QhXIHwIfrKQgniu+VEJQaxk1IQrSlRKqZL5xvs4yvAfuV392A5Kqnf3YPfjvPw7+7BcqTe0lXQn4vfmg/8HyizxEJWrzZJAAAAAElFTkSuQmCC" alt="Image Php" style="width:900px">
<p><em><strong>Figure: systeme d&#x27;insertion</strong></em></p>
<ul>
<li>On liste les étudiants</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://localhost/projets/php_mvc_pro_template/controleur_liste_etudiants.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->
<img src="/Doc_docus/assets/images/ht-5fc9ae416513bb1741f6e7101c6996d2.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: liste des etudiants</strong></em></p>
<ul>
<li>On passe à l’insertion de l’étudiant suivant :</li>
</ul>
<p> <strong>Prenom : Jamal</strong></p>
<p> <strong>Nom : Moussa</strong></p>
<p> <strong>Classe : Master</strong></p>
<p> <strong>Note : 15</strong></p>
<p>on met les informations</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://localhost/projets/php_mvc_pro_template/controleur_insertion_etudiant.php?prenom=Jamal&amp;nom=MOUSSA&amp;classe=master&amp;note=15</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->
<img src="/Doc_docus/assets/images/ha-b9406dd971b5b70c0729dce212e5c9e0.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: insertion de l&#x27;etudiant</strong></em></p>
<ul>
<li>On reverifie la liste</li>
</ul>
<!-- -->
<img src="/Doc_docus/assets/images/para1-8f259edd7ae26df5491082b4824a1970.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: affichage de l&#x27;etudiant  dans la base de donnees</strong></em></p>
<ul>
<li>Verifions avec un parametre manquant « note »</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://localhost/projets/php_mvc_pro_template/controleur_insertion_etudiant.php?prenom=Jamal&amp;nom=MOUSSA&amp;classe=master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->
<img src="/Doc_docus/assets/images/mes-af4d8ce6a0318438b057935f23e90abe.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: message d&#x27;erreurs</strong></em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="e-programme-en-mvc-avec-prise-en-compte-de-template-avec-laction-de-modifier-les-informations-dun-étudiant-update">e. Programme en MVC avec prise en compte de Template avec l’action de modifier les informations d’un étudiant (UPDATE)<a href="#e-programme-en-mvc-avec-prise-en-compte-de-template-avec-laction-de-modifier-les-informations-dun-étudiant-update" class="hash-link" aria-label="Direct link to e. Programme en MVC avec prise en compte de Template avec l’action de modifier les informations d’un étudiant (UPDATE)" title="Direct link to e. Programme en MVC avec prise en compte de Template avec l’action de modifier les informations d’un étudiant (UPDATE)">​</a></h4>
<p>Dans ce programme on va mettre à jour les informations d’un étudiant par rapport à son id.</p>
<p>Les étapes à suivre :</p>
<ol>
<li>Créer un modèle « ajout de la fonction modifier_un étudiant »</li>
<li>Créer un Template</li>
<li>Créer un controleur</li>
<li>Tester le programme</li>
</ol>
<p><strong>1.  On crée notre modèle pour la mise à jour des informations</strong></p>
<p>La  fonction de notre modele est :</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">La  fonction de notre modele est :</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function modifier_etudiant($id, $prenom, $nom, $classe, $note)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $sql=&quot;update  etudiants set prenom = :prenom,nom =:nom, classe=:classe, note =:note where id=:id&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:id&#x27;, $id, PDO::PARAM_INT);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:prenom&#x27;, $prenom);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:nom&#x27;, $nom);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:classe&#x27;, $classe);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:note&#x27;, $note);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return $stmt-&gt;execute();    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explication du code:</strong></p>
<p>Nous venons de créer une nouvelle fonction pour la mise a jour des informations des étudiant par rapport à l’ID récupéré dans une requête préparée ce qui veut dire que l’on peut modifier ses informations que si cet ID existe.</p>
<p>Et le code final du modele.php donne</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function connect_db()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      define(&#x27;dsn&#x27;, &#x27;mysql:host=localhost;dbname=ecole&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      define(&#x27;user&#x27;, &#x27;mamadou&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      define(&#x27;password&#x27;, &#x27;passer&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=new PDO(dsn,user,password);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  catch(PDOException $e)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  printf(&quot;Echec connexion : %s\n&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $e-&gt;getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  exit();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return $connexion;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function lister_les_etudiants()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $amis=Array();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $sql=&quot;select * from etudiants&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $result=$stmt-&gt;fetchALL(PDO::FETCH_OBJ);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      foreach ($result  as $row)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          $etudiants[]=$row;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return $etudiants;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function details_etudiant_par_id($id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $sql=&quot;select  * from etudiants where id=:id&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:id&#x27;, $id, PDO::PARAM_INT);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return $stmt-&gt;fetch();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function inserer_etudiant($prenom, $nom, $classe, $note)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $sql=&quot;insert into etudiants (prenom,nom,classe,note) values (:prenom, :nom, :classe, :note)&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:prenom&#x27;, $prenom);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:nom&#x27;, $nom);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:classe&#x27;, $classe);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:note&#x27;, $note);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return $stmt-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function modifier_etudiant($id, $prenom, $nom, $classe, $note)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $sql=&quot;update  etudiants set prenom = :prenom,nom =:nom, classe=:classe, note =:note where id=:id&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:id&#x27;, $id, PDO::PARAM_INT);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:prenom&#x27;, $prenom);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:nom&#x27;, $nom);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:classe&#x27;, $classe);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:note&#x27;, $note);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return $stmt-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>2.  Création du Template</strong></p>
<p>On peut maintenant créer notre Template pour la mise à jour</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nano templates/modification_etudiant_layout.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>et on met le code suivant</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if ($id &amp;&amp; $prenom &amp;&amp; $nom &amp;&amp; $classe &amp;&amp; $note){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $resultat = modifier_etudiant($id, $prenom, $nom, $classe, $note);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if($resultat){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $title = $prenom;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ob_start();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;h1&gt;Mise a jour de l&#x27;etudiant(e)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;?php echo $prenom.&#x27; &#x27;.$nom ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          echo &#x27; Mise a jour des informations  de  &#x27;.$prenom.&quot;  &quot;.$nom.&quot; &quot;.&quot;en classe de &quot;.$classe.&quot; &quot;.&quot;avec une note de &quot;.$note.&quot;&lt;br&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $content = ob_get_clean();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          include &#x27;base_layout.php&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   echo &quot;Cet etudiant n existe pas&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explication du code :</strong></p>
<p>Dans ce code nous avons verifier l’existance les valeurs des parametres afin de pouvoir ecrire un message de mise à jour au cas contraire on dit que l’etudiant n’existe pas.</p>
<p><strong>3.  Création du contrôleur</strong></p>
<p>On peut maintenant créer notre contrôleur</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nano controleur_modifier_etudiant.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>et on met le code</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">require_once &#x27;modele.php&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$id = $_GET[&#x27;id&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$prenom = $_GET[&#x27;prenom&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$nom = $_GET[&#x27;nom&#x27;] ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$classe = $_GET[&#x27;classe&#x27;] ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$note = $_GET[&#x27;note&#x27;] ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">require &#x27;templates/modification_etudiant_layout.php&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explication du code :</strong></p>
<p>Dans le code on a récupéré les différentes variables pour les différents paramètres afin de les passer au Template</p>
<p><strong>4.  Test du programme</strong></p>
<p>On test maintenant le programme en donnant le bon ID sur le navigateur</p>
<ul>
<li>On liste les etudiants</li>
</ul>
<!-- -->
<img src="/Doc_docus/assets/images/para1-8f259edd7ae26df5491082b4824a1970.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: affichage des etudiants</strong></em></p>
<p>Comme on va modifier les informations par ID des étudiants, on modifie le code source du template lecture des étudiants pour ressortir les ID donc on ajoute juste au-dessus de prénom l’ID comme suit :</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nano templates/liste_etudiants_layout</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $title = &#x27;Liste des etudiants&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ob_start();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;html&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;title&gt;Les etudiants &lt;/title&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;la liste des etudiants&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;table border=&#x27;1&#x27;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;th&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;td&gt;ID&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;td&gt;PRENOM&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;td&gt;NOM&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;td&gt;CLASSE&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;td&gt;NOTE&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/th&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       &lt;?php foreach ($etudiants as $etudiant): ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;tbody&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;&lt;?php echo $etudiant-&gt;id ?&gt;&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;&lt;?php echo $etudiant-&gt;prenom ?&gt;&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;&lt;?php echo $etudiant-&gt;nom ?&gt;&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;&lt;?php echo $etudiant-&gt;classe ?&gt;&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;td&gt;&lt;?php echo $etudiant-&gt;note ?&gt;&lt;/td&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/th&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       &lt;?php endforeach; ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $content = ob_get_clean();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  include &#x27;base_layout.php&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/tbody&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/html&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>On relance</p>
<p><a href="http://localhost/projets/php_mvc_pro_template/controleur_liste_etudiants.php" target="_blank" rel="noopener noreferrer">http://localhost/projets/php_mvc_pro_template/controleur_liste_etudiants.php</a></p>
<!-- -->
<img src="/Doc_docus/assets/images/ja-56969fdd24b5830ac778ff7673d1b481.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: Liste des etudiants</strong></em></p>
<ul>
<li>On va modifier l’etudiant avec ID=22 on change son prenom = «Falilou » et son nom =  « SALL »</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">localhost/projets/php_mvc_pro_template/controleur_modifier_etudiant.php?id=22&amp;prenom=Falilou&amp;nom=SALL&amp;classe=master&amp;note=15</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Et on regarde le resultat</p>
<!-- -->
<img src="/Doc_docus/assets/images/jaaa-befa7ed18f43ec59a3a07683f0fc8ccf.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: Modification reussie</strong></em></p>
<p>On liste a nouveau</p>
<!-- -->
<img src="/Doc_docus/assets/images/jaaaa-35556436cc15e0d40e33f5f3ad59bc9e.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: Modifications prises en compte</strong></em></p>
<ul>
<li>Avec un paramètre manquant cela donne</li>
</ul>
<!-- -->
<img src="/Doc_docus/assets/images/jj-5a7a8649dbc4aad8944c8c0f81d4bade.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: cela ne marche pas</strong></em></p>
<p>les modifications ne vont pas marcher car on a defini une condition d&#x27;accepter de recuperer toutes les valeurs des variables avant de lancer l&#x27;operation.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="f-programme-en-mvc-avec-prise-en-compte-de-template-avec-laction-de-supprimer-un-étudiant-delete">f. Programme en MVC avec prise en compte de Template avec l’action de supprimer un étudiant (DELETE)<a href="#f-programme-en-mvc-avec-prise-en-compte-de-template-avec-laction-de-supprimer-un-étudiant-delete" class="hash-link" aria-label="Direct link to f. Programme en MVC avec prise en compte de Template avec l’action de supprimer un étudiant (DELETE)" title="Direct link to f. Programme en MVC avec prise en compte de Template avec l’action de supprimer un étudiant (DELETE)">​</a></h4>
<p>Dans ce programme on va effectuer une action de supprimer un étudiant par son id</p>
<p>Les étapes à suivre:</p>
<ol>
<li>Créer un modèle « ajout de la fonction modifier_un étudiant »</li>
<li>Créer un Template</li>
<li>Créer un controleur</li>
<li>Tester le programme</li>
</ol>
<p>On passe a la pratique</p>
<p><strong>1.  Créer un modèle « ajout de la fonction supprimer un étudiant »</strong></p>
<p>On cree une nouvelle fonction pour la suppression des etudiants</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function supprimer_etudiant_par_id($id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $sql=&quot;select count(*) from etudiants where id = :id&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:id&#x27;, $id, PDO::PARAM_INT);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      if($stmt-&gt;fetchColumn() &gt; 0){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //$connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $sql1=&quot;delete from etudiants where id=:id&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $stmt1=$connexion-&gt;prepare($sql1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $stmt1-&gt;bindParam(&#x27;:id&#x27;, $id, PDO::PARAM_INT);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $stmt1-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $stmt1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explication du code :</strong></p>
<p>Nous avons créé une fonction de supprimer un étudiant et dans cette fonction on a mis deux requêtes préparées avec une condition la première pour vérifier si l’id de l’étudiant existe et la dernière pour supprimer à partir de cet ID. Ce qui veut dire si l’ID n’existe pas on ne peut rien supprimer et cela retourne une erreur.</p>
<p>Et le modele.php donne maintenant:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function connect_db()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      define(&#x27;dsn&#x27;, &#x27;mysql:host=localhost;dbname=ecole&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      define(&#x27;user&#x27;, &#x27;mamadou&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      define(&#x27;password&#x27;, &#x27;passer&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=new PDO(dsn,user,password);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  catch(PDOException $e)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  printf(&quot;Echec connexion : %s\n&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $e-&gt;getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  exit();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return $connexion;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function lister_les_etudiants()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $amis=Array();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $sql=&quot;select * from etudiants&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $result=$stmt-&gt;fetchALL(PDO::FETCH_OBJ);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      foreach ($result  as $row)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          $etudiants[]=$row;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return $etudiants;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function details_etudiant_par_id($id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $sql=&quot;select  * from etudiants where id=:id&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:id&#x27;, $id, PDO::PARAM_INT);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return $stmt-&gt;fetch();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function inserer_etudiant($prenom, $nom, $classe, $note)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $sql=&quot;insert into etudiants (prenom,nom,classe,note) values (:prenom, :nom, :classe, :note)&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:prenom&#x27;, $prenom);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:nom&#x27;, $nom);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:classe&#x27;, $classe);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:note&#x27;, $note);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return $stmt-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function modifier_etudiant($id, $prenom, $nom, $classe, $note)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $sql=&quot;update  etudiants set prenom = :prenom,nom =:nom, classe=:classe, note =:note where id=:id&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:id&#x27;, $id, PDO::PARAM_INT);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:prenom&#x27;, $prenom);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:nom&#x27;, $nom);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:classe&#x27;, $classe);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:note&#x27;, $note);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return $stmt-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function supprimer_etudiant_par_id($id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $sql=&quot;select count(*) from etudiants where id = :id&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt=$connexion-&gt;prepare($sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;bindParam(&#x27;:id&#x27;, $id, PDO::PARAM_INT);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $stmt-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      if($stmt-&gt;fetchColumn() &gt; 0){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //$connexion=connect_db();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $sql1=&quot;delete from etudiants where id=:id&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $stmt1=$connexion-&gt;prepare($sql1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $stmt1-&gt;bindParam(&#x27;:id&#x27;, $id, PDO::PARAM_INT);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $stmt1-&gt;execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $stmt1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>2.  Créer un Template</strong></p>
<p>On crée maintenant notre Template</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nano template/supprimer_etudiant_layout.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>et le contenu</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if($id){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $result= supprimer_etudiant_par_id($id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if($result){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot; Suppression de l&#x27;etudiant reussie&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo&quot; Erreur pendant la suppression&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explication du code :</strong></p>
<p>Dans ce code on a juste vérifié si l’id existe ainsi on supprime l’étudiant avec un message de réussite a l’appui au cas contraire un message d’erreur s’affiche.</p>
<p><strong>3.  Créer un contrôleur</strong></p>
<p>Maintenant on crée le contrôleur pour la suppression</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nano controleur_supprimer_etudiant.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>et le contenu</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  require_once &#x27;modele.php&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $id=$_GET[&#x27;id&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  require &#x27;templates/supprimer_etudiant_layout.php&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Explication du code :</strong></p>
<p>On a récupéré l’ID pour la suppression afin de le passer au Template</p>
<p><strong>4.  Tester le programme</strong></p>
<p>On peut maintenant test le programme en passant le paramètre ID dans le navigateur</p>
<ul>
<li>On liste les étudiants</li>
</ul>
<!-- -->
<img src="/Doc_docus/assets/images/jaaaa-35556436cc15e0d40e33f5f3ad59bc9e.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: liste des etudiants</strong></em></p>
<ul>
<li>On supprime l’étudiant avec l’ID 15</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://localhost/projets/php_mvc_pro_template/controleur_supprimer_etudiant.php?id=15</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->
<img src="/Doc_docus/assets/images/sup-7d63582b5d6d801722f515ab1ee176b4.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: Message de reussite</strong></em></p>
<p>On verifie la liste</p>
<!-- -->
<img src="/Doc_docus/assets/images/la-4b39183a5c43c975a781626f0e5ca80e.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: Suppression reussie</strong></em></p>
<ul>
<li>Avec un id inexistant  « id=44 »</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://localhost/projets/php_mvc_pro_template/controleur_supprimer_etudiant.php?id=44 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Ce qui donne</p>
<!-- -->
<img src="/Doc_docus/assets/images/er-124a84000b733ae8e6f243372f3e7c37.png" alt="Image Php" style="width:900px">
<p><em><strong>Figure: Erreur de suppression</strong></em></p>
<p>On  ne peut pas avoir de resultat ici car cet ID n&#x27;existe pas.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="g--problématique-dans-lutilisations-de-plusieurs-fonctions">g.  Problématique dans l’utilisations de plusieurs fonctions<a href="#g--problématique-dans-lutilisations-de-plusieurs-fonctions" class="hash-link" aria-label="Direct link to g.  Problématique dans l’utilisations de plusieurs fonctions" title="Direct link to g.  Problématique dans l’utilisations de plusieurs fonctions">​</a></h4>
<p>Nous venons de mettre au point des actions CRUD, lister, insérer, modifier et supprimer des données des étudiants. Le système avec lequel on a procédé est arbitraire statique et long ainsi de cette manière la gestion de tout cet ensemble peut causer ces soucis.</p>
<ul>
<li>Retourner une erreur quand on ne lui passe pas le paramètre ID pour l’action détails</li>
<li>Difficile de gérer les deux actions en même temps dynamiquement</li>
<li>Etant dans un même modèle de fonctions mais utilisant deux contrôleurs séparément difficiles de gérer les contrôleurs pour une bonne cohésion.</li>
</ul>
<p>C’est l’ensemble de ces points qui nous amène à voir la notion d’utiliser un routeur pour la gestion des contrôleurs intégré dans un contrôleur central appelé contrôleur frontal.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Tutoriel-Notions-en-PHP/template_buff_layout.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Doc_docus/docs/Tutoriel-Notions-en-PHP/reecriture_url_php"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">B. LA REECRITURE D’URL DANS UN PROGRAMME EN PHP</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Doc_docus/docs/Tutoriel-Notions-en-PHP/routing_mvc_php"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">D. LE ROUTING SUR LE MODELE EN MVC</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#a-presentation-des--templates" class="table-of-contents__link toc-highlight">a. Presentation des  templates</a></li><li><a href="#b-la-bufferisation-avec-ob_start" class="table-of-contents__link toc-highlight">b. La bufferisation avec ob_start</a><ul><li><a href="#i-présentation" class="table-of-contents__link toc-highlight">i. Présentation</a></li><li><a href="#ii-fonctionnement-de-ob_start-" class="table-of-contents__link toc-highlight">ii. Fonctionnement de Ob_start ()</a></li><li><a href="#iii--avantages-de-la-bufferisation" class="table-of-contents__link toc-highlight">iii.  Avantages de la Bufferisation</a></li><li><a href="#iv--exemple-typique-dune-bufférisassion" class="table-of-contents__link toc-highlight">iv.  Exemple typique d’une bufférisassion</a></li></ul></li><li><a href="#c-template-et-layout" class="table-of-contents__link toc-highlight">c. Template et layout</a><ul><li><a href="#objectif" class="table-of-contents__link toc-highlight">Objectif</a></li><li><a href="#1--création-du-répertoire-de-travail-php_mvc_pro_template" class="table-of-contents__link toc-highlight">1.  Création du répertoire de travail php_mvc_pro_template</a></li><li><a href="#2--programme-en-un-seul-code-des-étudiants" class="table-of-contents__link toc-highlight">2.  Programme en un seul code des étudiants</a></li><li><a href="#3--programme-crud-avec-prise-en-compte-de-template-et-de-layout" class="table-of-contents__link toc-highlight">3.  Programme CRUD avec prise en compte de Template et de layout</a></li><li><a href="#quest-ce-quun-layout-" class="table-of-contents__link toc-highlight">Qu’est-ce qu’un layout ?</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Doc_docus/docs/intro">Les Tutoriels</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Doc_docus/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/exode-prog/Doc_docus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>